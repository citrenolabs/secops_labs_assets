{"CategoryName":"Bootcamp","OverviewTemplatesDetails":[{"OverviewTemplate":{"Identifier":"49b44934-e1b5-424e-83da-5388dd492f99","Name":"Get Started Case","Creator":null,"PlaybookDefinitionIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Type":0,"AlertRuleType":null,"Roles":[],"Widgets":[{"Title":"HTML","Description":"","Identifier":"64b252bf-6419-41e5-96ae-e1e709fb1780","Order":1,"TemplateIdentifier":"49b44934-e1b5-424e-83da-5388dd492f99","Type":3,"DataDefinitionJson":"{\n  \"htmlContent\": \"<!doctype html>\\n<html lang=\\\"en\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\" />\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\" />\\n  <meta name=\\\"color-scheme\\\" content=\\\"light dark\\\">\\n  <title>Google SecOps SOAR Lab â€” Getting Started</title>\\n\\n  <!-- UI library (Bootstrap 5) -->\\n  <link href=\\\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\\\" rel=\\\"stylesheet\\\"/>\\n  <!-- Font Awesome -->\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\\\" integrity=\\\"sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==\\\" crossorigin=\\\"anonymous\\\" referrerpolicy=\\\"no-referrer\\\" />\\n\\n  <style>\\n    :root{\\n      --bg:#0b1220;\\n      --panel:#101a2e;\\n      --panel-2:#0e172a;\\n      --border:#1f2b45;\\n      --muted:#94a3b8;\\n      --text:#e5e7eb;\\n      --accent:#3b82f6;\\n      --accent-2:#22c55e;\\n      --danger:#ef4444;\\n      --shadow: 0 10px 30px rgba(0,0,0,.35);\\n      --radius: 14px;\\n    }\\n\\n    body.light-theme,\\n    html[data-theme='light'] body {\\n      --bg: #f1f3f4;\\n      --panel: #ffffff;\\n      --panel-2: #f8f9fa;\\n      --border: #dadce0;\\n      --muted: #5f6368;\\n      --text: #202124;\\n      --accent: #1a73e8;\\n      --accent-2: #1e8e3e;\\n      --shadow: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);\\n    }\\n\\n    html,body{height:100%}\\n    body{\\n      margin:0;\\n      background: radial-gradient(900px 500px at 40% -10%, rgba(59,130,246,.18), transparent 60%),\\n                  radial-gradient(700px 420px at 85% 15%, rgba(34,197,94,.12), transparent 55%),\\n                  var(--bg);\\n      color: var(--text);\\n      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\";\\n      transition: background 0.3s ease, color 0.3s ease;\\n    }\\n\\n    body.light-theme,\\n    html[data-theme='light'] body {\\n      background: var(--bg);\\n    }\\n\\n    /* App chrome */\\n    .app{\\n      height:100%;\\n      display:grid;\\n      grid-template-rows: 56px 1fr;\\n      grid-template-columns: 280px 1fr;\\n      grid-template-areas:\\n        \\\"top top\\\"\\n        \\\"side main\\\";\\n    }\\n\\n    .topbar{\\n      grid-area: top;\\n      display:flex;\\n      align-items:center;\\n      gap:14px;\\n      padding: 0 16px;\\n      background: var(--panel);\\n      border-bottom: 1px solid var(--border);\\n      backdrop-filter: blur(10px);\\n    }\\n    .brand{\\n      display:flex; align-items:center; gap:10px;\\n      font-weight:700;\\n      letter-spacing:.2px;\\n    }\\n    .brand-logo{\\n      height: 20px;\\n      width: auto;\\n      display: block;\\n    }\\n    .brand-logo img{\\n      height: 100%;\\n      width: auto;\\n      display: block;\\n    }\\n    /* Light mode logo - invert colors for visibility */\\n    body.light-theme .brand-logo img{\\n      filter: invert(1);\\n    }\\n    .topbar .crumbs{\\n      color: var(--muted);\\n      font-size:.9rem;\\n    }\\n    .topbar .spacer{flex:1}\\n    .pill{\\n      padding: 6px 10px;\\n      border: 1px solid var(--border);\\n      border-radius: 999px;\\n      background: var(--panel-2);\\n      color: var(--muted);\\n      font-size:.85rem;\\n    }\\n    .user-profile{\\n      display:flex;\\n      align-items:center;\\n      gap:10px;\\n      padding: 4px 8px;\\n      border-radius: 999px;\\n      background: var(--panel-2);\\n      border: 1px solid var(--border);\\n    }\\n    .user-profile img{\\n      width:32px;\\n      height:32px;\\n      border-radius:50%;\\n      object-fit:cover;\\n    }\\n    .user-profile .name{\\n      font-size:.9rem;\\n      color: var(--text);\\n      font-weight:500;\\n    }\\n\\n    .sidebar{\\n      grid-area: side;\\n      background: var(--panel-2);\\n      border-right: 1px solid var(--border);\\n      padding: 14px 12px;\\n      overflow:auto;\\n    }\\n\\n    .nav-item{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      padding: 10px 10px;\\n      margin: 8px 0;\\n      border: 1px solid var(--border);\\n      border-radius: 12px;\\n      background: var(--panel);\\n      box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;\\n      cursor: pointer;\\n      user-select: none;\\n      transition: transform .10s ease, border-color .10s ease, background .10s ease;\\n    }\\n    .nav-item:hover{\\n      transform: translateY(-1px);\\n      border-color: rgba(59,130,246,.45);\\n      background: rgba(59,130,246,.06);\\n    }\\n    .nav-item.active{\\n      border-color: rgba(59,130,246,.6);\\n      background: rgba(59,130,246,.10);\\n    }\\n    .nav-item .title{\\n      font-size:.92rem;\\n      line-height:1.1;\\n    }\\n    .nav-item .meta{\\n      font-size:.78rem;\\n      color: var(--muted);\\n    }\\n\\n    .dot{\\n      width:10px; height:10px;\\n      border-radius:999px;\\n      background: var(--danger);\\n      box-shadow: 0 0 0 4px rgba(239,68,68,.12);\\n      flex: 0 0 auto;\\n    }\\n    .dot.green{\\n      background: var(--accent-2);\\n      box-shadow: 0 0 0 4px rgba(34,197,94,.12);\\n    }\\n    .link-icon{\\n      width:16px; height:16px;\\n      flex: 0 0 auto;\\n      opacity:0.6;\\n      color: var(--muted);\\n    }\\n    .link-icon svg{\\n      width:100%;\\n      height:100%;\\n      fill: currentColor;\\n    }\\n\\n    .main{\\n      grid-area: main;\\n      padding: 18px 18px 26px;\\n      overflow:auto;\\n    }\\n\\n    .page-header{\\n      display:flex;\\n      align-items:flex-start;\\n      justify-content:space-between;\\n      gap: 14px;\\n      padding: 14px 16px;\\n      border: 1px solid var(--border);\\n      border-radius: var(--radius);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      scroll-margin-top: 74px;\\n    }\\n    .page-header h1{\\n      margin:0;\\n      font-size: 1.35rem;\\n      letter-spacing:.2px;\\n    }\\n    .page-header .sub{\\n      margin-top:4px;\\n      color: var(--muted);\\n      font-size:.92rem;\\n    }\\n\\n    /* Content cards */\\n    .grid{\\n      margin-top: 14px;\\n      display:grid;\\n      grid-template-columns: 1.2fr .8fr;\\n      gap: 14px;\\n    }\\n    @media (max-width: 1100px){\\n      .app{grid-template-columns: 240px 1fr;}\\n      .grid{grid-template-columns:1fr;}\\n    }\\n\\n    .cardx{\\n      border: 1px solid var(--border);\\n      border-radius: var(--radius);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      overflow:hidden;\\n      scroll-margin-top: 74px;\\n    }\\n    .cardx .cardx-header{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      padding: 12px 14px;\\n      border-bottom: 1px solid var(--border);\\n      background: var(--panel-2);\\n    }\\n    .cardx .cardx-header .label{\\n      font-weight:600;\\n      font-size:.95rem;\\n    }\\n    .cardx .cardx-body{\\n      padding: 14px;\\n    }\\n    /* Instructions card special styling */\\n    #instructions{\\n      background: linear-gradient(135deg, rgba(34,197,94,.08), rgba(16,185,129,.05));\\n      border-color: rgba(34,197,94,.25);\\n    }\\n    #instructions .cardx-header{\\n      background: linear-gradient(135deg, rgba(34,197,94,.12), rgba(16,185,129,.08));\\n      border-bottom-color: rgba(34,197,94,.2);\\n    }\\n    #instructions .cardx-header .label{\\n      color: rgba(74,222,128,.95);\\n    }\\n    body.light-theme #instructions{\\n      background: linear-gradient(135deg, rgba(34,197,94,.06), rgba(16,185,129,.04));\\n      border-color: rgba(34,197,94,.2);\\n    }\\n    body.light-theme #instructions .cardx-header{\\n      background: linear-gradient(135deg, rgba(34,197,94,.08), rgba(16,185,129,.06));\\n      border-bottom-color: rgba(34,197,94,.15);\\n    }\\n    body.light-theme #instructions .cardx-header .label{\\n      color: #1e8e3e;\\n    }\\n    #instructions .alert{\\n      background: linear-gradient(135deg, rgba(34,197,94,.12), rgba(16,185,129,.08)) !important;\\n      border: 1px solid rgba(34,197,94,.2) !important;\\n      color: rgba(74,222,128,.95) !important;\\n    }\\n    body.light-theme #instructions .alert{\\n      background: linear-gradient(135deg, rgba(34,197,94,.1), rgba(16,185,129,.06)) !important;\\n      border-color: rgba(34,197,94,.15) !important;\\n      color: #1e8e3e !important;\\n    }\\n    .muted{color: var(--muted);}\\n    .kbd{\\n      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace;\\n      font-size:.84rem;\\n      padding: 2px 6px;\\n      border-radius: 8px;\\n      border: 1px solid var(--border);\\n      background: var(--panel-2);\\n      color: var(--text);\\n    }\\n\\n    body.light-theme .nav-item.active {\\n      background: #e8f0fe;\\n      border-color: #1a73e8;\\n      color: #1a73e8;\\n    }\\n    body.light-theme .nav-item.active .title {\\n      font-weight: 600;\\n    }\\n    body.light-theme .nav-item.active .meta {\\n      color: #1a73e8;\\n      opacity: 0.8;\\n    }\\n\\n    body.light-theme .btn-primary {\\n      background: #1a73e8;\\n      border-color: #1a73e8;\\n    }\\n    body.light-theme .btn-primary:hover {\\n      background: #1765cc;\\n      box-shadow: 0 1px 3px 1px rgba(60,64,67, 0.2);\\n    }\\n\\n    body.light-theme .kbd {\\n      background: #f1f3f4;\\n      border-color: #dadce0;\\n      color: #3c4043;\\n    }\\n\\n    body.light-theme .badge-soft {\\n      background: #f1f3f4;\\n      border-color: #dadce0;\\n      color: #5f6368;\\n    }\\n\\n    body.light-theme .topbar {\\n      background: #ffffff;\\n      box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3);\\n      z-index: 10;\\n    }\\n    body.light-theme .sidebar {\\n      background: #ffffff;\\n    }\\n    body.light-theme .nav-item {\\n      border: 1px solid transparent;\\n      background: transparent;\\n    }\\n    body.light-theme .nav-item:hover {\\n      background: #f1f3f4;\\n      transform: none;\\n    }\\n    body.light-theme .cardx {\\n      border-color: #dadce0;\\n    }\\n    body.light-theme .cardx .cardx-header {\\n      background: #ffffff;\\n      border-bottom: 1px solid #dadce0;\\n    }\\n    body.light-theme .challenge {\\n      background: #ffffff;\\n      border-color: #dadce0;\\n    }\\n    body.light-theme .challenge:hover {\\n      box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);\\n      transform: translateY(-1px);\\n    }\\n    body.light-theme .challenge.active {\\n      border-color: #1a73e8;\\n      background: #f8f9fa;\\n      box-shadow: 0 4px 20px rgba(26,115,232,.15), 0 1px 2px 0 rgba(60,64,67,0.3);\\n    }\\n    body.light-theme .challenge-icon {\\n      background: linear-gradient(135deg, rgba(26,115,232,.15), rgba(26,115,232,.1));\\n      border-color: rgba(26,115,232,.25);\\n      color: #1a73e8;\\n    }\\n    body.light-theme .challenge.done .challenge-icon {\\n      background: linear-gradient(135deg, rgba(30,142,62,.15), rgba(30,142,62,.1));\\n      border-color: rgba(30,142,62,.25);\\n      color: #1e8e3e;\\n    }\\n\\n    /* Instruction stepper */\\n    .step-title{\\n      font-weight:700;\\n      margin:0 0 6px;\\n      font-size:1.05rem;\\n    }\\n    .step-body{\\n      color: var(--muted);\\n      margin:0 0 12px;\\n      line-height:1.45;\\n    }\\n    .step-actions{\\n      display:flex;\\n      gap:10px;\\n      align-items:center;\\n      justify-content:flex-end;\\n    }\\n    .btn-primary{\\n      background: rgba(59,130,246,.95);\\n      border-color: rgba(59,130,246,.95);\\n    }\\n    .btn-outline-light{\\n      border-color: rgba(148,163,184,.35);\\n      color: var(--text);\\n    }\\n    .btn-outline-light:hover{\\n      background: rgba(148,163,184,.10);\\n      border-color: rgba(148,163,184,.55);\\n      color: var(--text);\\n    }\\n\\n    /* Challenges Grid */\\n    .challenges-grid{\\n      display:grid;\\n      grid-template-columns: repeat(3, 1fr);\\n      gap: 14px;\\n    }\\n    @media (max-width: 1100px){\\n      .challenges-grid{\\n        grid-template-columns: repeat(2, 1fr);\\n      }\\n    }\\n    @media (max-width: 768px){\\n      .challenges-grid{\\n        grid-template-columns: 1fr;\\n      }\\n    }\\n    .challenge{\\n      border: 1px solid var(--border);\\n      border-radius: 14px;\\n      background: var(--panel);\\n      padding: 16px;\\n      position:relative;\\n      box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;\\n      transition: transform .12s ease, border-color .12s ease, background .12s ease, padding .3s ease, grid-column .3s ease;\\n      cursor:pointer;\\n      display:flex;\\n      flex-direction:column;\\n    }\\n    .challenge:hover:not(.active){\\n      transform: translateY(-2px);\\n      border-color: rgba(59,130,246,.45);\\n      background: rgba(59,130,246,.06);\\n    }\\n    .challenge.active{\\n      border-color: rgba(59,130,246,.75);\\n      background: rgba(59,130,246,.10);\\n      grid-column: span 3;\\n      padding: 24px;\\n      transform: scale(1.02);\\n      box-shadow: 0 4px 20px rgba(59,130,246,.15), 0 1px 0 rgba(255,255,255,.03) inset;\\n      z-index: 10;\\n    }\\n    @media (max-width: 1100px){\\n      .challenge.active{\\n        grid-column: span 2;\\n      }\\n    }\\n    @media (max-width: 768px){\\n      .challenge.active{\\n        grid-column: span 1;\\n      }\\n    }\\n    .challenge.done{\\n      border-color: rgba(34,197,94,.65);\\n      background: rgba(34,197,94,.10);\\n    }\\n    .challenge-icon{\\n      width: 40px;\\n      height: 40px;\\n      border-radius: 10px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      font-size: 1.2rem;\\n      flex-shrink: 0;\\n      margin-right: 12px;\\n      background: linear-gradient(135deg, rgba(59,130,246,.2), rgba(34,197,94,.15));\\n      color: var(--accent);\\n      border: 1px solid rgba(59,130,246,.3);\\n      transition: width .3s ease, height .3s ease, font-size .3s ease;\\n    }\\n    .challenge.active .challenge-icon{\\n      width: 56px;\\n      height: 56px;\\n      font-size: 1.6rem;\\n    }\\n    .challenge.done .challenge-icon{\\n      background: linear-gradient(135deg, rgba(34,197,94,.2), rgba(34,197,94,.15));\\n      color: var(--accent-2);\\n      border-color: rgba(34,197,94,.4);\\n    }\\n    .challenge .top{\\n      display:flex;\\n      align-items:flex-start;\\n      justify-content:space-between;\\n      gap:10px;\\n      margin-bottom:10px;\\n    }\\n    .challenge .top-left{\\n      display:flex;\\n      align-items:flex-start;\\n      gap:12px;\\n      flex:1;\\n    }\\n    .challenge .name{\\n      font-weight:700;\\n      font-size:1rem;\\n      margin:0;\\n      flex:1;\\n      transition: font-size .3s ease;\\n    }\\n    .challenge.active .name{\\n      font-size:1.25rem;\\n    }\\n    .badge-soft{\\n      border: 1px solid var(--border);\\n      background: rgba(16,26,46,.55);\\n      color: var(--muted);\\n      font-weight:600;\\n      border-radius: 999px;\\n      padding: 2px 10px;\\n      font-size:.75rem;\\n      white-space:nowrap;\\n    }\\n    .challenge .badge-soft{\\n      cursor: pointer;\\n      transition: transform .1s ease, border-color .1s ease, background .1s ease;\\n      user-select: none;\\n    }\\n    .challenge .badge-soft:hover:not(.done-badge){\\n      transform: scale(1.05);\\n      border-color: rgba(59,130,246,.5);\\n      background: rgba(59,130,246,.1);\\n    }\\n    .challenge.done .badge-soft{\\n      border-color: rgba(34,197,94,.65);\\n      color: rgba(34,197,94,.95);\\n      background: rgba(34,197,94,.15);\\n    }\\n    .challenge .desc{\\n      color: var(--muted);\\n      font-size:.9rem;\\n      margin:0 0 12px;\\n      line-height:1.4;\\n      flex:1;\\n      transition: font-size .3s ease;\\n    }\\n    .challenge.active .desc{\\n      font-size:1rem;\\n      line-height:1.5;\\n    }\\n    .challenge .details{\\n      margin-top:auto;\\n    }\\n    .challenge.active .details{\\n      font-size: 1rem;\\n    }\\n    .challenge.active .details .muted.small{\\n      font-size: 0.95rem;\\n    }\\n    .challenge-image{\\n      width: 100%;\\n      max-width: 100%;\\n      border-radius: 8px;\\n      margin: 12px 0;\\n      border: 1px solid var(--border);\\n      box-shadow: 0 2px 4px rgba(0,0,0,.1);\\n      display: none;\\n      transition: opacity .3s ease;\\n    }\\n    .challenge-image.show{\\n      display: block;\\n      animation: fadeIn .3s ease;\\n    }\\n    @keyframes fadeIn {\\n      from { opacity: 0; }\\n      to { opacity: 1; }\\n    }\\n    .challenge .footer{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      margin-top: 12px;\\n      padding-top: 12px;\\n      border-top: 1px solid var(--border);\\n    }\\n    .small-link{\\n      color: rgba(59,130,246,.95);\\n      text-decoration:none;\\n      font-size:.9rem;\\n    }\\n    .small-link:hover{ text-decoration:underline; }\\n\\n    /* Completion toast */\\n    .toastx{\\n      position: fixed;\\n      right: 16px;\\n      bottom: 16px;\\n      max-width: 360px;\\n      padding: 12px 14px;\\n      border-radius: 14px;\\n      border: 1px solid var(--border);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      display:none;\\n      z-index: 999;\\n    }\\n    .toastx.show{display:block;}\\n  </style>\\n</head>\\n\\n<body>\\n  <!-- Hidden case ID for localStorage key -->\\n  <div id=\\\"caseId\\\" style=\\\"display: none;\\\" data-case-id=\\\"12345\\\"></div>\\n  <div class=\\\"app\\\">\\n    <!-- Top Bar -->\\n    <div class=\\\"topbar\\\">\\n      <div class=\\\"brand\\\">\\n        <div class=\\\"brand-logo\\\">\\n          <img src=\\\"https://backstory.chronicle.security/static/app/images/secops_dark_logo.svg\\\" alt=\\\"Google SecOps\\\" />\\n        </div>\\n      </div>\\n      <div class=\\\"crumbs\\\">Labs <span class=\\\"muted\\\">/</span> Getting Started</div>\\n      <div class=\\\"spacer\\\"></div>\\n      <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"themeToggle\\\" style=\\\"border-radius:999px; padding: 4px 10px;\\\">\\n        <span class=\\\"theme-icon\\\">ðŸŒ™</span>\\n      </button>\\n      <div class=\\\"user-profile\\\">\\n        <img src=\\\"https://lh3.googleusercontent.com/a/ACg8ocLv2SQf-hYcjWo6F4jYjSr3Up_AgYQO8f-5SUamfeerpNITziQ=s240-p-k-rw-no\\\" alt=\\\"Profile\\\" />\\n        <span class=\\\"name\\\">Svetla Yankova</span>\\n      </div>\\n    </div>\\n\\n    <!-- Sidebar -->\\n    <aside class=\\\"sidebar\\\">\\n      <div>\\n        <div class=\\\"nav-item active\\\" data-target=\\\"getting-started\\\">\\n          <div>\\n            <div class=\\\"title\\\">Getting Started</div>\\n            <div class=\\\"meta\\\">Overview & steps</div>\\n          </div>\\n          <span class=\\\"link-icon\\\" title=\\\"Link\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n              <path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/>\\n            </svg>\\n          </span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-0\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 1</div>\\n            <div class=\\\"meta\\\">Create Simulated Case</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-0\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-1\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 2</div>\\n            <div class=\\\"meta\\\">Explore the alert and follow the steps</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-1\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-2\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 3</div>\\n            <div class=\\\"meta\\\">Fix Playbook Issue</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-2\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-3\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 4</div>\\n            <div class=\\\"meta\\\">Automate the workflow via playbooks</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-3\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-4\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 5</div>\\n            <div class=\\\"meta\\\">Enhance Playbook</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-4\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"reference\\\">\\n          <div>\\n            <div class=\\\"title\\\">Reference</div>\\n            <div class=\\\"meta\\\">Links & docs</div>\\n          </div>\\n          <span class=\\\"link-icon\\\" title=\\\"Link\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n              <path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/>\\n            </svg>\\n          </span>\\n        </div>\\n      </div>\\n    </aside>\\n\\n    <!-- Main -->\\n    <main class=\\\"main\\\" id=\\\"mainScroll\\\">\\n      <div class=\\\"page-header\\\" id=\\\"getting-started\\\">\\n        <div>\\n          <h1>Getting Started</h1>\\n          <div class=\\\"sub\\\">\\n            Follow the guided steps, then complete the challenges. Use the <span class=\\\"kbd\\\">Next</span> buttons to move through the lab.\\n          </div>\\n        </div>\\n        <div class=\\\"d-flex gap-2\\\">\\n          <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"resetBtn\\\">Reset</button>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"grid\\\">\\n        <!-- Instructions Card -->\\n        <section class=\\\"cardx\\\" id=\\\"instructions\\\">\\n          <div class=\\\"cardx-header\\\">\\n            <div class=\\\"label\\\">Instructions</div>\\n            <div class=\\\"muted small\\\">Step <span id=\\\"stepNum\\\">1</span> of <span id=\\\"stepTotal\\\">3</span></div>\\n          </div>\\n          <div class=\\\"cardx-body\\\">\\n            <h3 class=\\\"step-title\\\" id=\\\"stepTitle\\\">Getting Started Case</h3>\\n            <p class=\\\"step-body\\\" id=\\\"stepBody\\\">\\n              This is the Getting Started Case, it contains all of your challenges\\n            </p>\\n\\n            <div class=\\\"alert border-0\\\" style=\\\"background: var(--panel-2); color: var(--muted);\\\">\\n              Tip: Do not close this case as it contains useful hints for this lab. \\n            </div>\\n\\n            <div class=\\\"step-actions\\\">\\n              <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"prevBtn\\\">Back</button>\\n              <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"nextBtn\\\">Next</button>\\n              <button class=\\\"btn btn-sm btn-primary\\\" id=\\\"finishBtn\\\" style=\\\"display:none;\\\">Finish</button>\\n            </div>\\n          </div>\\n        </section>\\n\\n        <!-- Status Card -->\\n        <section class=\\\"cardx\\\" id=\\\"status\\\">\\n          <div class=\\\"cardx-header\\\">\\n            <div class=\\\"label\\\">Lab Status</div>\\n            <div class=\\\"muted small\\\"><span id=\\\"doneCount\\\">0</span>/<span id=\\\"challengeCount\\\">5</span> challenges complete</div>\\n          </div>\\n          <div class=\\\"cardx-body\\\">\\n            <div class=\\\"d-flex align-items-center justify-content-between mb-2\\\">\\n              <div>\\n                <div class=\\\"fw-semibold\\\">Progress</div>\\n                <div class=\\\"muted small\\\">Complete challenges to unlock the lab badge.</div>\\n              </div>\\n              <span class=\\\"badge-soft\\\" id=\\\"statusBadge\\\">In Progress</span>\\n            </div>\\n\\n            <div class=\\\"progress\\\" style=\\\"height:10px; background: rgba(11,18,32,.55); border:1px solid var(--border);\\\">\\n              <div class=\\\"progress-bar\\\" id=\\\"progressBar\\\" role=\\\"progressbar\\\" style=\\\"width:0%\\\"></div>\\n            </div>\\n\\n            <hr style=\\\"border-color: var(--border); opacity:1;\\\" />\\n\\n            <div class=\\\"muted small\\\">\\n              Suggested workflow:\\n              <ol class=\\\"mt-2\\\">\\n                <li>Read the instructions.</li>\\n                <li>Open each challenge panel.</li>\\n                <li>Click <span class=\\\"kbd\\\">Mark Complete</span> when done.</li>\\n              </ol>\\n            </div>\\n          </div>\\n        </section>\\n      </div>\\n\\n      <!-- Challenges Grid -->\\n      <section class=\\\"cardx mt-3\\\" id=\\\"challenges\\\">\\n        <div class=\\\"cardx-header\\\">\\n          <div class=\\\"label\\\">Challenges</div>\\n          <div class=\\\"muted small\\\">Click a card to view details</div>\\n        </div>\\n\\n        <div class=\\\"cardx-body\\\">\\n          <div class=\\\"challenges-grid\\\" id=\\\"challengeRow\\\">\\n            <!-- Challenge 1 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"0\\\" id=\\\"challenge-0\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-rocket\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 1: Create Simulated Case</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge0\\\" data-badge-challenge=\\\"0\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Initialize the lab environment by creating a simulated security incident.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody0\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 1 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"0\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Create a case by clicking the  <i class=\\\"fas fa-plus\\\"></i> button </li>\\n                    <li>Select <i>Simulate Case</i> from the menu</li>\\n                    <li>Search for Login From Outside Of Business Hours</li>\\n                    <li>Click the Create Button</li>\\n                    <li>Select the current environment listed</li>\\n                    <li>Click the Refresh( <i class=\\\"fas fa-refresh\\\"></i>) Button</li>\\n                  </ul>\\n                  Evidence: The case tab now shows two cases.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"0\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"0\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 2 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"1\\\" id=\\\"challenge-1\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-search\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 2: Explore the alert and follow the steps</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge1\\\" data-badge-challenge=\\\"1\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Navigate the case UI and understand the incoming alert data.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody1\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 2 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"1\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Make sure the alert tab is open. The alerts tab will have the alert name in our case \\\"Login from Outside of Business Hours\\\"</li>\\n                    <li>In the alert view you can expolore various widgets that highlight important information about the alert.</li>\\n                    <li>You can see that not only was our login outside of normal business hours, but it was also from a new IP address from a location different then our normal location.</li>\\n                    <li>You can also see that the user is an Admin. All of those are very suspicious and should be investigated.</li>\\n                   \\n                \\n                  </ul>\\n                  Evidence: You can see all the information described in this challenge and find the regular office location of our user. \\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"1\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"1\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 3 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"2\\\" id=\\\"challenge-2\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-wrench\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 3: Complete instructions</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge2\\\" data-badge-challenge=\\\"2\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Complete the instructions provided by the playbook\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody2\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 3 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"2\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>In the insights widget you see an insight highlighting the next step in our investigation.</li>\\n                    <li>Follow the insight provided to you</li>\\n                  </ul>\\n                  Evidence: The case priority is now High as set by an orange indicator in the case title and the case list. Case is now assigned to @Tier2 team.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"2\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"2\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 4 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"3\\\" id=\\\"challenge-3\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-robot\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 4: Automate the workflow via playbooks</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge3\\\" data-badge-challenge=\\\"3\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                We notice that some of the steps in this playbook can be automated instead of following manual instructions.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody3\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 4 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"3\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>In the playbooks tab notice the playbook that is running behind the scenes for this alert.</li>\\n                    <li>Navigate to Respose > Playbooks and locate this playbook </li>\\n                    <li>You are presented with two branches with insturctions set as a Generic Insight widget.</li>\\n                    <li>Replace the insight widget with appropriate actions from the actions menu to automate the steps in the insight widget. </li>\\n                    <li> When complete, save the playbook andsimulate the case again to verify that the steps are being automated.</li>\\n                    \\n                  </ul>\\n                  Evidence: Case is now at high priority and assigned to @Tier2 team, similar to the last challenge. Review the Timeline tab to see how those automated actions ran..\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"3\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"3\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 5 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"4\\\" id=\\\"challenge-4\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-star\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 5: Enhance Playbook</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge4\\\" data-badge-challenge=\\\"4\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                We are going to experiment with adding an additional conditional branch to the playbook. Notice how sam is not only in a different location but also an admin. Lets add a conditional branch\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody4\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 5 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"4\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Navigate back to the Respose > Playbooks tab and locate the playbook you created in the last challenge.</li>\\n                    <li>After the location check branch add a new brach IF the locations are different.</li>\\n                    <li>In this new branch the condition should check for the user role variable</li>\\n                    <li>If the user role is admin, set the alert priority to critical</li>\\n                    <li>If the user role is admin, set the alert priority to high</li>\\n                    <li>Then for both branches escalate to @Tier2</li>\\n                    <li>Bonus: You can merge the two branches together into a single action.</li>\\n                    <li>Save the playbook and then simulate the case again to verify that the steps are being automated.</li>\\n\\n                  </ul>\\n                  Evidence: Now you have 3 different cases for logins outside of Business Hours but the last one will be tagged with critical priority and darker red. They will all be assigned to @Tier2 team.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"4\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"4\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </section>\\n\\n      <!-- Reference -->\\n      <section class=\\\"cardx mt-3\\\" id=\\\"reference\\\">\\n        <div class=\\\"cardx-header\\\">\\n          <div class=\\\"label\\\">Reference</div>\\n          <div class=\\\"muted small\\\">Helpful links</div>\\n        </div>\\n        <div class=\\\"cardx-body\\\">\\n          <div class=\\\"muted small\\\">\\n            <ul class=\\\"mb-0\\\">\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">SOAR console navigation</a></li>\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">Playbook execution basics</a></li>\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">Entity enrichment overview</a></li>\\n            </ul>\\n          </div>\\n        </div>\\n      </section>\\n\\n    </main>\\n  </div>\\n\\n  <div class=\\\"toastx\\\" id=\\\"toast\\\">\\n    <div class=\\\"fw-semibold\\\" id=\\\"toastTitle\\\">Nice.</div>\\n    <div class=\\\"muted small\\\" id=\\\"toastBody\\\">Challenge marked complete.</div>\\n  </div>\\n\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\\\"></script>\\n  <script>\\n    // --- Stepper (Instructions) ---\\n    const steps = [\\n      {\\n        title: \\\"Get Started Case\\\",\\n          body: \\\"This is the Getting Started Case, it contains all of your challenges\\\"\\n      },\\n      {\\n        title: \\\"Do the challenges step by step\\\",\\n        body: \\\"Do each challenge and carefully confirm that the evidence is present that the step is successfully completed\\\"\\n      },\\n      {\\n        title: \\\"Mark progress\\\",\\n        body: \\\"When complete mark your progress. Note that this progress will disappear if you refresh the tab, to complete the lab and verify all steps you must go to Qwiklabs\\\"\\n      }\\n    ];\\n\\n    let stepIdx = 0;\\n    const stepNum = document.getElementById(\\\"stepNum\\\");\\n    const stepTotal = document.getElementById(\\\"stepTotal\\\");\\n    const stepTitle = document.getElementById(\\\"stepTitle\\\");\\n    const stepBody = document.getElementById(\\\"stepBody\\\");\\n    const prevBtn = document.getElementById(\\\"prevBtn\\\");\\n    const nextBtn = document.getElementById(\\\"nextBtn\\\");\\n    const finishBtn = document.getElementById(\\\"finishBtn\\\");\\n\\n    stepTotal.textContent = steps.length;\\n\\n    function renderStep(){\\n      stepNum.textContent = (stepIdx + 1);\\n      stepTitle.textContent = steps[stepIdx].title;\\n      stepBody.textContent = steps[stepIdx].body;\\n\\n      prevBtn.disabled = stepIdx === 0;\\n      const atEnd = stepIdx === steps.length - 1;\\n      nextBtn.style.display = atEnd ? \\\"none\\\" : \\\"inline-block\\\";\\n      finishBtn.style.display = atEnd ? \\\"inline-block\\\" : \\\"none\\\";\\n    }\\n\\n    prevBtn.addEventListener(\\\"click\\\", () => { \\n      if(stepIdx>0){ \\n        stepIdx--; \\n        renderStep(); \\n        saveState();\\n      }\\n    });\\n    nextBtn.addEventListener(\\\"click\\\", () => { \\n      if(stepIdx<steps.length-1){ \\n        stepIdx++; \\n        renderStep(); \\n        saveState();\\n      }\\n    });\\n    finishBtn.addEventListener(\\\"click\\\", () => {\\n      showToast(\\\"All set.\\\", \\\"Now complete the challenges below.\\\");\\n      saveState();\\n    });\\n\\n    // --- Horizontal accordion behavior ---\\n    const challenges = document.querySelectorAll(\\\".challenge\\\");\\n    const collapseInstances = [];\\n\\n    function initCollapses(){\\n      challenges.forEach((c, idx) => {\\n        const body = document.getElementById(`cBody${idx}`);\\n        collapseInstances[idx] = new bootstrap.Collapse(body, { toggle: false });\\n      });\\n    }\\n\\n    function openChallenge(idx){\\n      challenges.forEach((c, i) => {\\n        const isTarget = i === idx;\\n        const badge = document.getElementById(`cBadge${i}`);\\n        const isDone = state.done[i];\\n        \\n        c.classList.toggle(\\\"active\\\", isTarget);\\n        if(isTarget) {\\n          collapseInstances[i].show();\\n          // Update badge text - show \\\"Close\\\" if not done, keep \\\"Done\\\" if completed\\n          if (!isDone && badge) {\\n            badge.textContent = \\\"Close\\\";\\n          }\\n        } else {\\n          collapseInstances[i].hide();\\n          // Update badge text - show \\\"Open\\\" if not done, keep \\\"Done\\\" if completed\\n          if (!isDone && badge) {\\n            badge.textContent = \\\"Open\\\";\\n          }\\n          // Hide hint image when challenge is closed\\n          const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${i}\\\"]`);\\n          if (image) {\\n            image.classList.remove(\\\"show\\\");\\n          }\\n          const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${i}\\\"]`);\\n          if (hintLink) {\\n            hintLink.textContent = \\\"View hint\\\";\\n          }\\n        }\\n      });\\n    }\\n\\n    // Click a challenge card to expand it\\n    challenges.forEach((c) => {\\n      c.addEventListener(\\\"click\\\", (e) => {\\n        if (e.target.classList.contains(\\\"markBtn\\\")) return; // don't conflict with button\\n        if (e.target.classList.contains(\\\"hint-link\\\")) return; // don't conflict with hint link\\n        if (e.target.classList.contains(\\\"badge-soft\\\")) return; // don't conflict with badge click\\n        const idx = Number(c.dataset.challenge);\\n        openChallenge(idx);\\n      });\\n    });\\n\\n    // Click badge to toggle challenge open/close\\n    document.querySelectorAll(\\\".challenge .badge-soft[data-badge-challenge]\\\").forEach(badge => {\\n      badge.addEventListener(\\\"click\\\", (e) => {\\n        e.stopPropagation();\\n        const challengeIdx = Number(badge.dataset.badgeChallenge);\\n        const challenge = document.querySelector(`.challenge[data-challenge=\\\"${challengeIdx}\\\"]`);\\n        const isActive = challenge && challenge.classList.contains(\\\"active\\\");\\n        \\n        // Toggle: if open, close it; if closed, open it\\n        if (isActive) {\\n          // Close this specific challenge\\n          const collapseInstance = collapseInstances[challengeIdx];\\n          if (collapseInstance) {\\n            collapseInstance.hide();\\n            challenge.classList.remove(\\\"active\\\");\\n            // Update badge text if not done\\n            if (!state.done[challengeIdx]) {\\n              badge.textContent = \\\"Open\\\";\\n            }\\n            // Hide hint image\\n            const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${challengeIdx}\\\"]`);\\n            if (image) {\\n              image.classList.remove(\\\"show\\\");\\n            }\\n            const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${challengeIdx}\\\"]`);\\n            if (hintLink) {\\n              hintLink.textContent = \\\"View hint\\\";\\n            }\\n          }\\n        } else {\\n          // Open this specific challenge\\n          openChallenge(challengeIdx);\\n        }\\n      });\\n    });\\n\\n    // --- Hint toggle functionality ---\\n    document.querySelectorAll(\\\".hint-link\\\").forEach(link => {\\n      link.addEventListener(\\\"click\\\", (e) => {\\n        e.preventDefault();\\n        e.stopPropagation();\\n        const challengeIdx = link.dataset.hintTarget;\\n        const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${challengeIdx}\\\"]`);\\n        if (image) {\\n          image.classList.toggle(\\\"show\\\");\\n          link.textContent = image.classList.contains(\\\"show\\\") ? \\\"Hide hint\\\" : \\\"View hint\\\";\\n        }\\n      });\\n    });\\n\\n    // --- Completion tracking with localStorage ---\\n    // Get case ID from hidden div\\n    const caseIdElement = document.getElementById(\\\"caseId\\\");\\n    const caseId = caseIdElement ? caseIdElement.dataset.caseId || \\\"12345\\\" : \\\"12345\\\";\\n    const storageKey = `soar_lab_progress_${caseId}`;\\n\\n    // Load state from localStorage or initialize default\\n    function loadState() {\\n      try {\\n        const saved = localStorage.getItem(storageKey);\\n        if (saved) {\\n          const parsed = JSON.parse(saved);\\n          return {\\n            done: parsed.done || [false, false, false, false, false],\\n            stepIdx: parsed.stepIdx !== undefined ? parsed.stepIdx : 0\\n          };\\n        }\\n      } catch (e) {\\n        console.warn(\\\"Failed to load state from localStorage:\\\", e);\\n      }\\n      return {\\n        done: [false, false, false, false, false],\\n        stepIdx: 0\\n      };\\n    }\\n\\n    // Save state to localStorage\\n    function saveState() {\\n      try {\\n        const stateToSave = {\\n          done: state.done,\\n          stepIdx: stepIdx,\\n          timestamp: new Date().toISOString()\\n        };\\n        localStorage.setItem(storageKey, JSON.stringify(stateToSave));\\n      } catch (e) {\\n        console.warn(\\\"Failed to save state to localStorage:\\\", e);\\n      }\\n    }\\n\\n    // Initialize state from localStorage\\n    const savedState = loadState();\\n    const state = { done: savedState.done };\\n    stepIdx = savedState.stepIdx;\\n\\n    const doneCountEl = document.getElementById(\\\"doneCount\\\");\\n    const challengeCountEl = document.getElementById(\\\"challengeCount\\\");\\n    const progressBar = document.getElementById(\\\"progressBar\\\");\\n    const statusBadge = document.getElementById(\\\"statusBadge\\\");\\n\\n    challengeCountEl.textContent = state.done.length;\\n\\n    // Restore UI state from loaded state\\n    function restoreUIState() {\\n      state.done.forEach((isDone, idx) => {\\n        const card = document.querySelector(`.challenge[data-challenge=\\\"${idx}\\\"]`);\\n        const badge = document.getElementById(`cBadge${idx}`);\\n        const btn = document.querySelector(`.markBtn[data-target=\\\"${idx}\\\"]`);\\n\\n        if (isDone) {\\n          if (card) card.classList.add(\\\"done\\\");\\n          if (badge) badge.textContent = \\\"Done\\\";\\n          if (btn) btn.textContent = \\\"Undo\\\";\\n        } else {\\n          if (card) card.classList.remove(\\\"done\\\");\\n          // Set badge text based on expansion state\\n          if (badge) {\\n            const isActive = card && card.classList.contains(\\\"active\\\");\\n            badge.textContent = isActive ? \\\"Close\\\" : \\\"Open\\\";\\n          }\\n          if (btn) btn.textContent = \\\"Mark Complete\\\";\\n        }\\n      });\\n    }\\n\\n    function updateProgress(){\\n      const doneCount = state.done.filter(Boolean).length;\\n      doneCountEl.textContent = doneCount;\\n\\n      const pct = Math.round((doneCount / state.done.length) * 100);\\n      progressBar.style.width = pct + \\\"%\\\";\\n\\n      // Update progress bar color - green when complete\\n      if (doneCount === state.done.length){\\n        progressBar.style.backgroundColor = \\\"rgba(34,197,94,.9)\\\";\\n        progressBar.style.background = \\\"linear-gradient(90deg, rgba(34,197,94,.95), rgba(16,185,129,.9))\\\";\\n      } else {\\n        // Reset to default Bootstrap primary color (blue)\\n        progressBar.style.backgroundColor = \\\"\\\";\\n        progressBar.style.background = \\\"\\\";\\n      }\\n\\n      // Update navigation dots to green when challenges are completed\\n      state.done.forEach((isDone, idx) => {\\n        const navDot = document.getElementById(`nav-dot-${idx}`);\\n        if (navDot) {\\n          if (isDone) {\\n            navDot.classList.add(\\\"green\\\");\\n            navDot.title = \\\"Completed\\\";\\n          } else {\\n            navDot.classList.remove(\\\"green\\\");\\n            navDot.title = \\\"Needs attention\\\";\\n          }\\n        }\\n      });\\n\\n      if (doneCount === state.done.length){\\n        statusBadge.textContent = \\\"Complete\\\";\\n        statusBadge.style.borderColor = \\\"rgba(34,197,94,.65)\\\";\\n        statusBadge.style.color = \\\"rgba(34,197,94,.95)\\\";\\n        if (doneCount > 0) {\\n          showToast(\\\"Lab complete.\\\", \\\"All challenges are marked complete.\\\");\\n        }\\n      } else {\\n        statusBadge.textContent = \\\"In Progress\\\";\\n        statusBadge.style.borderColor = \\\"var(--border)\\\";\\n        statusBadge.style.color = \\\"var(--muted)\\\";\\n      }\\n\\n      // Save state to localStorage\\n      saveState();\\n    }\\n\\n    document.querySelectorAll(\\\".markBtn\\\").forEach(btn => {\\n      btn.addEventListener(\\\"click\\\", (e) => {\\n        e.stopPropagation();\\n        const idx = Number(btn.dataset.target);\\n        state.done[idx] = !state.done[idx];\\n\\n        const card = document.querySelector(`.challenge[data-challenge=\\\"${idx}\\\"]`);\\n        const badge = document.getElementById(`cBadge${idx}`);\\n\\n        if(state.done[idx]){\\n          card.classList.add(\\\"done\\\");\\n          badge.textContent = \\\"Done\\\";\\n          showToast(\\\"Saved.\\\", `Challenge ${idx+1} marked complete.`);\\n          btn.textContent = \\\"Undo\\\";\\n        }else{\\n          card.classList.remove(\\\"done\\\");\\n          badge.textContent = \\\"Open\\\";\\n          showToast(\\\"Updated.\\\", `Challenge ${idx+1} marked open.`);\\n          btn.textContent = \\\"Mark Complete\\\";\\n        }\\n\\n        updateProgress();\\n      });\\n    });\\n\\n    // --- Sidebar navigation (CLICKABLE) ---\\n    const navItems = document.querySelectorAll(\\\".nav-item\\\");\\n    const mainScroll = document.getElementById(\\\"mainScroll\\\");\\n\\n    function setActiveNav(target){\\n      navItems.forEach(n => n.classList.remove(\\\"active\\\"));\\n      const match = document.querySelector(`.nav-item[data-target=\\\"${target}\\\"]`);\\n      if (match) match.classList.add(\\\"active\\\");\\n    }\\n\\n    function scrollToId(id){\\n      const el = document.getElementById(id);\\n      if (!el) return;\\n      el.scrollIntoView({ behavior: \\\"smooth\\\", block: \\\"start\\\" });\\n    }\\n\\n    navItems.forEach(item => {\\n      item.addEventListener(\\\"click\\\", () => {\\n        const target = item.dataset.target;\\n\\n        // mark active\\n        setActiveNav(target);\\n\\n        // targets:\\n        // - \\\"getting-started\\\"\\n        // - \\\"challenge-0/1/2\\\"\\n        // - \\\"reference\\\"\\n        if (target === \\\"getting-started\\\"){\\n          scrollToId(\\\"getting-started\\\");\\n          return;\\n        }\\n\\n        if (target === \\\"reference\\\"){\\n          scrollToId(\\\"reference\\\");\\n          return;\\n        }\\n\\n        if (target && target.startsWith(\\\"challenge-\\\")){\\n          const idx = Number(target.split(\\\"-\\\")[1]);\\n          // scroll to challenge row and open the correct challenge\\n          scrollToId(\\\"challenges\\\");\\n          openChallenge(idx);\\n\\n          // subtle extra nudge to ensure the row is visible in smaller viewports\\n          setTimeout(() => {\\n            document.getElementById(target)?.scrollIntoView({ behavior: \\\"smooth\\\", block: \\\"nearest\\\", inline: \\\"nearest\\\" });\\n          }, 250);\\n\\n          return;\\n        }\\n      });\\n    });\\n\\n    // --- Utilities ---\\n    const toast = document.getElementById(\\\"toast\\\");\\n    const toastTitle = document.getElementById(\\\"toastTitle\\\");\\n    const toastBody = document.getElementById(\\\"toastBody\\\");\\n    let toastTimer;\\n\\n    function showToast(title, body){\\n      toastTitle.textContent = title;\\n      toastBody.textContent = body;\\n      toast.classList.add(\\\"show\\\");\\n      clearTimeout(toastTimer);\\n      toastTimer = setTimeout(() => toast.classList.remove(\\\"show\\\"), 2200);\\n    }\\n\\n    document.getElementById(\\\"resetBtn\\\").addEventListener(\\\"click\\\", () => {\\n      stepIdx = 0; renderStep();\\n      state.done = [false, false, false, false, false];\\n\\n      document.querySelectorAll(\\\".challenge\\\").forEach((card, idx) => {\\n        card.classList.remove(\\\"done\\\");\\n        document.getElementById(`cBadge${idx}`).textContent = \\\"Open\\\";\\n        const btn = document.querySelector(`.markBtn[data-target=\\\"${idx}\\\"]`);\\n        if (btn) btn.textContent = \\\"Mark Complete\\\";\\n        collapseInstances[idx]?.hide();\\n        card.classList.remove(\\\"active\\\");\\n        // Hide hint images and reset hint link text\\n        const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${idx}\\\"]`);\\n        if (image) {\\n          image.classList.remove(\\\"show\\\");\\n        }\\n        const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${idx}\\\"]`);\\n        if (hintLink) {\\n          hintLink.textContent = \\\"View hint\\\";\\n        }\\n      });\\n\\n      // Clear localStorage for this case\\n      try {\\n        localStorage.removeItem(storageKey);\\n      } catch (e) {\\n        console.warn(\\\"Failed to clear localStorage:\\\", e);\\n      }\\n\\n      updateProgress();\\n      setActiveNav(\\\"getting-started\\\");\\n      scrollToId(\\\"getting-started\\\");\\n      showToast(\\\"Reset.\\\", \\\"Progress cleared.\\\");\\n    });\\n\\n    // --- Theme Toggle & SecOps Hook ---\\n    const themeToggle = document.getElementById(\\\"themeToggle\\\");\\n    const themeIcon = themeToggle.querySelector(\\\".theme-icon\\\");\\n    const body = document.body;\\n    const html = document.documentElement;\\n\\n    function setTheme(isLight, isManual = false) {\\n      const currentIsLight = body.classList.contains(\\\"light-theme\\\");\\n      if (currentIsLight === isLight && !isManual) return; // Skip redundant updates from observer\\n\\n      if (isLight) {\\n        body.classList.add(\\\"light-theme\\\");\\n        themeIcon.textContent = \\\"â˜€ï¸\\\";\\n      } else {\\n        body.classList.remove(\\\"light-theme\\\");\\n        themeIcon.textContent = \\\"ðŸŒ™\\\";\\n      }\\n    }\\n\\n    // 1. Manual Toggle (for testing/local use)\\n    themeToggle.addEventListener(\\\"click\\\", () => {\\n      const isLight = !body.classList.contains(\\\"light-theme\\\");\\n      setTheme(isLight, true);\\n      localStorage.setItem(\\\"theme\\\", isLight ? \\\"light\\\" : \\\"dark\\\");\\n      showToast(\\\"Theme updated.\\\", `Switched to ${isLight ? 'light' : 'dark'} mode.`);\\n    });\\n\\n\\n      function isColorDark(color) {\\n    if (!color) return false;\\n\\n    // rgb / rgba\\n    if (color.startsWith(\\\"rgb\\\")) {\\n      const m = color.match(/rgba?\\\\((\\\\d+),\\\\s*(\\\\d+),\\\\s*(\\\\d+)/i);\\n      if (!m) return false;\\n      const r = +m[1], g = +m[2], b = +m[3];\\n      return (0.299 * r + 0.587 * g + 0.114 * b) < 140;\\n    }\\n\\n    // hex\\n    let hex = color.replace(\\\"#\\\", \\\"\\\");\\n    if (hex.length === 3) hex = hex.split(\\\"\\\").map(c => c + c).join(\\\"\\\");\\n    if (hex.length !== 6) return false;\\n\\n    const r = parseInt(hex.slice(0, 2), 16);\\n    const g = parseInt(hex.slice(2, 4), 16);\\n    const b = parseInt(hex.slice(4, 6), 16);\\n    return (0.299 * r + 0.587 * g + 0.114 * b) < 140;\\n  }\\n\\n  // SecOps sends theme info via postMessage into the widget iframe\\n  window.addEventListener(\\\"message\\\", (evt) => {\\n    if (!evt?.data || typeof evt.data !== \\\"object\\\") return;\\n    if (!evt.data.background) return;\\n\\n    const isDark = isColorDark(evt.data.background);\\n    const isLight = !isDark;\\n\\n    // Your system:\\n    // dark  -> no class\\n    // light -> body.light-theme\\n    document.body.classList.toggle(\\\"light-theme\\\", isLight);\\n    \\n    // Update theme icon to match the theme\\n    const themeToggle = document.getElementById(\\\"themeToggle\\\");\\n    const themeIcon = themeToggle?.querySelector(\\\".theme-icon\\\");\\n    if (themeIcon) {\\n      themeIcon.textContent = isLight ? \\\"â˜€ï¸\\\" : \\\"ðŸŒ™\\\";\\n    }\\n  });\\n\\n    // 2. THE HOOK: Watch for Google SecOps platform theme changes\\n    const syncWithPlatform = () => {\\n      // Check for platform-specific indicators\\n      const isLight = \\n        body.classList.contains(\\\"light-theme\\\") || \\n        body.classList.contains(\\\"light\\\") ||\\n        html.classList.contains(\\\"light-theme\\\") ||\\n        html.classList.contains(\\\"light\\\") ||\\n        html.getAttribute(\\\"data-theme\\\") === \\\"light\\\" ||\\n        window.matchMedia('(prefers-color-scheme: light)').matches;\\n\\n      setTheme(isLight);\\n    };\\n\\n    // Watch for attribute changes (classes, data-attributes)\\n    const observer = new MutationObserver(syncWithPlatform);\\n    observer.observe(body, { attributes: true });\\n    observer.observe(html, { attributes: true });\\n\\n    // Watch for system/browser theme changes (often used as a proxy by platform containers)\\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: light)');\\n    if (mediaQuery.addEventListener) {\\n      mediaQuery.addEventListener('change', (e) => setTheme(e.matches));\\n    }\\n\\n    // 3. Initial Load Sync\\n    const savedTheme = localStorage.getItem(\\\"theme\\\");\\n    if (savedTheme) {\\n      setTheme(savedTheme === \\\"light\\\", true);\\n    } else {\\n      syncWithPlatform();\\n    }\\n\\n    // Init\\n    restoreUIState();\\n    renderStep();\\n    initCollapses();\\n    updateProgress();\\n  </script>\\n</body>\\n</html>\\n\",\n  \"htmlHeight\": 1000,\n  \"safeRendering\": false,\n  \"type\": 3,\n  \"widgetDefinitionScope\": 2\n}","GridColumns":2,"ActionWidgetTemplateIdentifier":null,"StepIdentifier":null,"StepIntegration":null,"BlockStepIdentifier":null,"BlockStepInstanceName":null,"PresentIfEmpty":false,"ConditionsGroup":{"Conditions":[],"LogicalOperator":0},"IntegrationName":""},{"Title":"Lab Steps","Description":"This Widget lists all playbook actions waiting for user input.","Identifier":"c2a59955-37b1-425a-bee8-312d1bcd0439","Order":4,"TemplateIdentifier":"49b44934-e1b5-424e-83da-5388dd492f99","Type":11,"DataDefinitionJson":"{\n  \"pendingSteps\": null,\n  \"type\": 11,\n  \"widgetDefinitionScope\": 0\n}","GridColumns":2,"ActionWidgetTemplateIdentifier":null,"StepIdentifier":null,"StepIntegration":null,"BlockStepIdentifier":null,"BlockStepInstanceName":null,"PresentIfEmpty":false,"ConditionsGroup":{"Conditions":[],"LogicalOperator":0},"IntegrationName":""}]},"Roles":["Administrator"]}],"WidgetTemplates":[{"Title":"HTML","Description":"","Identifier":"64b252bf-6419-41e5-96ae-e1e709fb1780","Order":1,"TemplateIdentifier":"49b44934-e1b5-424e-83da-5388dd492f99","Type":3,"DataDefinitionJson":"{\n  \"htmlContent\": \"<!doctype html>\\n<html lang=\\\"en\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\" />\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\" />\\n  <meta name=\\\"color-scheme\\\" content=\\\"light dark\\\">\\n  <title>Google SecOps SOAR Lab â€” Getting Started</title>\\n\\n  <!-- UI library (Bootstrap 5) -->\\n  <link href=\\\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\\\" rel=\\\"stylesheet\\\"/>\\n  <!-- Font Awesome -->\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\\\" integrity=\\\"sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==\\\" crossorigin=\\\"anonymous\\\" referrerpolicy=\\\"no-referrer\\\" />\\n\\n  <style>\\n    :root{\\n      --bg:#0b1220;\\n      --panel:#101a2e;\\n      --panel-2:#0e172a;\\n      --border:#1f2b45;\\n      --muted:#94a3b8;\\n      --text:#e5e7eb;\\n      --accent:#3b82f6;\\n      --accent-2:#22c55e;\\n      --danger:#ef4444;\\n      --shadow: 0 10px 30px rgba(0,0,0,.35);\\n      --radius: 14px;\\n    }\\n\\n    body.light-theme,\\n    html[data-theme='light'] body {\\n      --bg: #f1f3f4;\\n      --panel: #ffffff;\\n      --panel-2: #f8f9fa;\\n      --border: #dadce0;\\n      --muted: #5f6368;\\n      --text: #202124;\\n      --accent: #1a73e8;\\n      --accent-2: #1e8e3e;\\n      --shadow: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);\\n    }\\n\\n    html,body{height:100%}\\n    body{\\n      margin:0;\\n      background: radial-gradient(900px 500px at 40% -10%, rgba(59,130,246,.18), transparent 60%),\\n                  radial-gradient(700px 420px at 85% 15%, rgba(34,197,94,.12), transparent 55%),\\n                  var(--bg);\\n      color: var(--text);\\n      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\";\\n      transition: background 0.3s ease, color 0.3s ease;\\n    }\\n\\n    body.light-theme,\\n    html[data-theme='light'] body {\\n      background: var(--bg);\\n    }\\n\\n    /* App chrome */\\n    .app{\\n      height:100%;\\n      display:grid;\\n      grid-template-rows: 56px 1fr;\\n      grid-template-columns: 280px 1fr;\\n      grid-template-areas:\\n        \\\"top top\\\"\\n        \\\"side main\\\";\\n    }\\n\\n    .topbar{\\n      grid-area: top;\\n      display:flex;\\n      align-items:center;\\n      gap:14px;\\n      padding: 0 16px;\\n      background: var(--panel);\\n      border-bottom: 1px solid var(--border);\\n      backdrop-filter: blur(10px);\\n    }\\n    .brand{\\n      display:flex; align-items:center; gap:10px;\\n      font-weight:700;\\n      letter-spacing:.2px;\\n    }\\n    .brand-logo{\\n      height: 20px;\\n      width: auto;\\n      display: block;\\n    }\\n    .brand-logo img{\\n      height: 100%;\\n      width: auto;\\n      display: block;\\n    }\\n    /* Light mode logo - invert colors for visibility */\\n    body.light-theme .brand-logo img{\\n      filter: invert(1);\\n    }\\n    .topbar .crumbs{\\n      color: var(--muted);\\n      font-size:.9rem;\\n    }\\n    .topbar .spacer{flex:1}\\n    .pill{\\n      padding: 6px 10px;\\n      border: 1px solid var(--border);\\n      border-radius: 999px;\\n      background: var(--panel-2);\\n      color: var(--muted);\\n      font-size:.85rem;\\n    }\\n    .user-profile{\\n      display:flex;\\n      align-items:center;\\n      gap:10px;\\n      padding: 4px 8px;\\n      border-radius: 999px;\\n      background: var(--panel-2);\\n      border: 1px solid var(--border);\\n    }\\n    .user-profile img{\\n      width:32px;\\n      height:32px;\\n      border-radius:50%;\\n      object-fit:cover;\\n    }\\n    .user-profile .name{\\n      font-size:.9rem;\\n      color: var(--text);\\n      font-weight:500;\\n    }\\n\\n    .sidebar{\\n      grid-area: side;\\n      background: var(--panel-2);\\n      border-right: 1px solid var(--border);\\n      padding: 14px 12px;\\n      overflow:auto;\\n    }\\n\\n    .nav-item{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      padding: 10px 10px;\\n      margin: 8px 0;\\n      border: 1px solid var(--border);\\n      border-radius: 12px;\\n      background: var(--panel);\\n      box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;\\n      cursor: pointer;\\n      user-select: none;\\n      transition: transform .10s ease, border-color .10s ease, background .10s ease;\\n    }\\n    .nav-item:hover{\\n      transform: translateY(-1px);\\n      border-color: rgba(59,130,246,.45);\\n      background: rgba(59,130,246,.06);\\n    }\\n    .nav-item.active{\\n      border-color: rgba(59,130,246,.6);\\n      background: rgba(59,130,246,.10);\\n    }\\n    .nav-item .title{\\n      font-size:.92rem;\\n      line-height:1.1;\\n    }\\n    .nav-item .meta{\\n      font-size:.78rem;\\n      color: var(--muted);\\n    }\\n\\n    .dot{\\n      width:10px; height:10px;\\n      border-radius:999px;\\n      background: var(--danger);\\n      box-shadow: 0 0 0 4px rgba(239,68,68,.12);\\n      flex: 0 0 auto;\\n    }\\n    .dot.green{\\n      background: var(--accent-2);\\n      box-shadow: 0 0 0 4px rgba(34,197,94,.12);\\n    }\\n    .link-icon{\\n      width:16px; height:16px;\\n      flex: 0 0 auto;\\n      opacity:0.6;\\n      color: var(--muted);\\n    }\\n    .link-icon svg{\\n      width:100%;\\n      height:100%;\\n      fill: currentColor;\\n    }\\n\\n    .main{\\n      grid-area: main;\\n      padding: 18px 18px 26px;\\n      overflow:auto;\\n    }\\n\\n    .page-header{\\n      display:flex;\\n      align-items:flex-start;\\n      justify-content:space-between;\\n      gap: 14px;\\n      padding: 14px 16px;\\n      border: 1px solid var(--border);\\n      border-radius: var(--radius);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      scroll-margin-top: 74px;\\n    }\\n    .page-header h1{\\n      margin:0;\\n      font-size: 1.35rem;\\n      letter-spacing:.2px;\\n    }\\n    .page-header .sub{\\n      margin-top:4px;\\n      color: var(--muted);\\n      font-size:.92rem;\\n    }\\n\\n    /* Content cards */\\n    .grid{\\n      margin-top: 14px;\\n      display:grid;\\n      grid-template-columns: 1.2fr .8fr;\\n      gap: 14px;\\n    }\\n    @media (max-width: 1100px){\\n      .app{grid-template-columns: 240px 1fr;}\\n      .grid{grid-template-columns:1fr;}\\n    }\\n\\n    .cardx{\\n      border: 1px solid var(--border);\\n      border-radius: var(--radius);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      overflow:hidden;\\n      scroll-margin-top: 74px;\\n    }\\n    .cardx .cardx-header{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      padding: 12px 14px;\\n      border-bottom: 1px solid var(--border);\\n      background: var(--panel-2);\\n    }\\n    .cardx .cardx-header .label{\\n      font-weight:600;\\n      font-size:.95rem;\\n    }\\n    .cardx .cardx-body{\\n      padding: 14px;\\n    }\\n    /* Instructions card special styling */\\n    #instructions{\\n      background: linear-gradient(135deg, rgba(34,197,94,.08), rgba(16,185,129,.05));\\n      border-color: rgba(34,197,94,.25);\\n    }\\n    #instructions .cardx-header{\\n      background: linear-gradient(135deg, rgba(34,197,94,.12), rgba(16,185,129,.08));\\n      border-bottom-color: rgba(34,197,94,.2);\\n    }\\n    #instructions .cardx-header .label{\\n      color: rgba(74,222,128,.95);\\n    }\\n    body.light-theme #instructions{\\n      background: linear-gradient(135deg, rgba(34,197,94,.06), rgba(16,185,129,.04));\\n      border-color: rgba(34,197,94,.2);\\n    }\\n    body.light-theme #instructions .cardx-header{\\n      background: linear-gradient(135deg, rgba(34,197,94,.08), rgba(16,185,129,.06));\\n      border-bottom-color: rgba(34,197,94,.15);\\n    }\\n    body.light-theme #instructions .cardx-header .label{\\n      color: #1e8e3e;\\n    }\\n    #instructions .alert{\\n      background: linear-gradient(135deg, rgba(34,197,94,.12), rgba(16,185,129,.08)) !important;\\n      border: 1px solid rgba(34,197,94,.2) !important;\\n      color: rgba(74,222,128,.95) !important;\\n    }\\n    body.light-theme #instructions .alert{\\n      background: linear-gradient(135deg, rgba(34,197,94,.1), rgba(16,185,129,.06)) !important;\\n      border-color: rgba(34,197,94,.15) !important;\\n      color: #1e8e3e !important;\\n    }\\n    .muted{color: var(--muted);}\\n    .kbd{\\n      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace;\\n      font-size:.84rem;\\n      padding: 2px 6px;\\n      border-radius: 8px;\\n      border: 1px solid var(--border);\\n      background: var(--panel-2);\\n      color: var(--text);\\n    }\\n\\n    body.light-theme .nav-item.active {\\n      background: #e8f0fe;\\n      border-color: #1a73e8;\\n      color: #1a73e8;\\n    }\\n    body.light-theme .nav-item.active .title {\\n      font-weight: 600;\\n    }\\n    body.light-theme .nav-item.active .meta {\\n      color: #1a73e8;\\n      opacity: 0.8;\\n    }\\n\\n    body.light-theme .btn-primary {\\n      background: #1a73e8;\\n      border-color: #1a73e8;\\n    }\\n    body.light-theme .btn-primary:hover {\\n      background: #1765cc;\\n      box-shadow: 0 1px 3px 1px rgba(60,64,67, 0.2);\\n    }\\n\\n    body.light-theme .kbd {\\n      background: #f1f3f4;\\n      border-color: #dadce0;\\n      color: #3c4043;\\n    }\\n\\n    body.light-theme .badge-soft {\\n      background: #f1f3f4;\\n      border-color: #dadce0;\\n      color: #5f6368;\\n    }\\n\\n    body.light-theme .topbar {\\n      background: #ffffff;\\n      box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3);\\n      z-index: 10;\\n    }\\n    body.light-theme .sidebar {\\n      background: #ffffff;\\n    }\\n    body.light-theme .nav-item {\\n      border: 1px solid transparent;\\n      background: transparent;\\n    }\\n    body.light-theme .nav-item:hover {\\n      background: #f1f3f4;\\n      transform: none;\\n    }\\n    body.light-theme .cardx {\\n      border-color: #dadce0;\\n    }\\n    body.light-theme .cardx .cardx-header {\\n      background: #ffffff;\\n      border-bottom: 1px solid #dadce0;\\n    }\\n    body.light-theme .challenge {\\n      background: #ffffff;\\n      border-color: #dadce0;\\n    }\\n    body.light-theme .challenge:hover {\\n      box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);\\n      transform: translateY(-1px);\\n    }\\n    body.light-theme .challenge.active {\\n      border-color: #1a73e8;\\n      background: #f8f9fa;\\n      box-shadow: 0 4px 20px rgba(26,115,232,.15), 0 1px 2px 0 rgba(60,64,67,0.3);\\n    }\\n    body.light-theme .challenge-icon {\\n      background: linear-gradient(135deg, rgba(26,115,232,.15), rgba(26,115,232,.1));\\n      border-color: rgba(26,115,232,.25);\\n      color: #1a73e8;\\n    }\\n    body.light-theme .challenge.done .challenge-icon {\\n      background: linear-gradient(135deg, rgba(30,142,62,.15), rgba(30,142,62,.1));\\n      border-color: rgba(30,142,62,.25);\\n      color: #1e8e3e;\\n    }\\n\\n    /* Instruction stepper */\\n    .step-title{\\n      font-weight:700;\\n      margin:0 0 6px;\\n      font-size:1.05rem;\\n    }\\n    .step-body{\\n      color: var(--muted);\\n      margin:0 0 12px;\\n      line-height:1.45;\\n    }\\n    .step-actions{\\n      display:flex;\\n      gap:10px;\\n      align-items:center;\\n      justify-content:flex-end;\\n    }\\n    .btn-primary{\\n      background: rgba(59,130,246,.95);\\n      border-color: rgba(59,130,246,.95);\\n    }\\n    .btn-outline-light{\\n      border-color: rgba(148,163,184,.35);\\n      color: var(--text);\\n    }\\n    .btn-outline-light:hover{\\n      background: rgba(148,163,184,.10);\\n      border-color: rgba(148,163,184,.55);\\n      color: var(--text);\\n    }\\n\\n    /* Challenges Grid */\\n    .challenges-grid{\\n      display:grid;\\n      grid-template-columns: repeat(3, 1fr);\\n      gap: 14px;\\n    }\\n    @media (max-width: 1100px){\\n      .challenges-grid{\\n        grid-template-columns: repeat(2, 1fr);\\n      }\\n    }\\n    @media (max-width: 768px){\\n      .challenges-grid{\\n        grid-template-columns: 1fr;\\n      }\\n    }\\n    .challenge{\\n      border: 1px solid var(--border);\\n      border-radius: 14px;\\n      background: var(--panel);\\n      padding: 16px;\\n      position:relative;\\n      box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;\\n      transition: transform .12s ease, border-color .12s ease, background .12s ease, padding .3s ease, grid-column .3s ease;\\n      cursor:pointer;\\n      display:flex;\\n      flex-direction:column;\\n    }\\n    .challenge:hover:not(.active){\\n      transform: translateY(-2px);\\n      border-color: rgba(59,130,246,.45);\\n      background: rgba(59,130,246,.06);\\n    }\\n    .challenge.active{\\n      border-color: rgba(59,130,246,.75);\\n      background: rgba(59,130,246,.10);\\n      grid-column: span 3;\\n      padding: 24px;\\n      transform: scale(1.02);\\n      box-shadow: 0 4px 20px rgba(59,130,246,.15), 0 1px 0 rgba(255,255,255,.03) inset;\\n      z-index: 10;\\n    }\\n    @media (max-width: 1100px){\\n      .challenge.active{\\n        grid-column: span 2;\\n      }\\n    }\\n    @media (max-width: 768px){\\n      .challenge.active{\\n        grid-column: span 1;\\n      }\\n    }\\n    .challenge.done{\\n      border-color: rgba(34,197,94,.65);\\n      background: rgba(34,197,94,.10);\\n    }\\n    .challenge-icon{\\n      width: 40px;\\n      height: 40px;\\n      border-radius: 10px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      font-size: 1.2rem;\\n      flex-shrink: 0;\\n      margin-right: 12px;\\n      background: linear-gradient(135deg, rgba(59,130,246,.2), rgba(34,197,94,.15));\\n      color: var(--accent);\\n      border: 1px solid rgba(59,130,246,.3);\\n      transition: width .3s ease, height .3s ease, font-size .3s ease;\\n    }\\n    .challenge.active .challenge-icon{\\n      width: 56px;\\n      height: 56px;\\n      font-size: 1.6rem;\\n    }\\n    .challenge.done .challenge-icon{\\n      background: linear-gradient(135deg, rgba(34,197,94,.2), rgba(34,197,94,.15));\\n      color: var(--accent-2);\\n      border-color: rgba(34,197,94,.4);\\n    }\\n    .challenge .top{\\n      display:flex;\\n      align-items:flex-start;\\n      justify-content:space-between;\\n      gap:10px;\\n      margin-bottom:10px;\\n    }\\n    .challenge .top-left{\\n      display:flex;\\n      align-items:flex-start;\\n      gap:12px;\\n      flex:1;\\n    }\\n    .challenge .name{\\n      font-weight:700;\\n      font-size:1rem;\\n      margin:0;\\n      flex:1;\\n      transition: font-size .3s ease;\\n    }\\n    .challenge.active .name{\\n      font-size:1.25rem;\\n    }\\n    .badge-soft{\\n      border: 1px solid var(--border);\\n      background: rgba(16,26,46,.55);\\n      color: var(--muted);\\n      font-weight:600;\\n      border-radius: 999px;\\n      padding: 2px 10px;\\n      font-size:.75rem;\\n      white-space:nowrap;\\n    }\\n    .challenge .badge-soft{\\n      cursor: pointer;\\n      transition: transform .1s ease, border-color .1s ease, background .1s ease;\\n      user-select: none;\\n    }\\n    .challenge .badge-soft:hover:not(.done-badge){\\n      transform: scale(1.05);\\n      border-color: rgba(59,130,246,.5);\\n      background: rgba(59,130,246,.1);\\n    }\\n    .challenge.done .badge-soft{\\n      border-color: rgba(34,197,94,.65);\\n      color: rgba(34,197,94,.95);\\n      background: rgba(34,197,94,.15);\\n    }\\n    .challenge .desc{\\n      color: var(--muted);\\n      font-size:.9rem;\\n      margin:0 0 12px;\\n      line-height:1.4;\\n      flex:1;\\n      transition: font-size .3s ease;\\n    }\\n    .challenge.active .desc{\\n      font-size:1rem;\\n      line-height:1.5;\\n    }\\n    .challenge .details{\\n      margin-top:auto;\\n    }\\n    .challenge.active .details{\\n      font-size: 1rem;\\n    }\\n    .challenge.active .details .muted.small{\\n      font-size: 0.95rem;\\n    }\\n    .challenge-image{\\n      width: 100%;\\n      max-width: 100%;\\n      border-radius: 8px;\\n      margin: 12px 0;\\n      border: 1px solid var(--border);\\n      box-shadow: 0 2px 4px rgba(0,0,0,.1);\\n      display: none;\\n      transition: opacity .3s ease;\\n    }\\n    .challenge-image.show{\\n      display: block;\\n      animation: fadeIn .3s ease;\\n    }\\n    @keyframes fadeIn {\\n      from { opacity: 0; }\\n      to { opacity: 1; }\\n    }\\n    .challenge .footer{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      margin-top: 12px;\\n      padding-top: 12px;\\n      border-top: 1px solid var(--border);\\n    }\\n    .small-link{\\n      color: rgba(59,130,246,.95);\\n      text-decoration:none;\\n      font-size:.9rem;\\n    }\\n    .small-link:hover{ text-decoration:underline; }\\n\\n    /* Completion toast */\\n    .toastx{\\n      position: fixed;\\n      right: 16px;\\n      bottom: 16px;\\n      max-width: 360px;\\n      padding: 12px 14px;\\n      border-radius: 14px;\\n      border: 1px solid var(--border);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      display:none;\\n      z-index: 999;\\n    }\\n    .toastx.show{display:block;}\\n  </style>\\n</head>\\n\\n<body>\\n  <!-- Hidden case ID for localStorage key -->\\n  <div id=\\\"caseId\\\" style=\\\"display: none;\\\" data-case-id=\\\"12345\\\"></div>\\n  <div class=\\\"app\\\">\\n    <!-- Top Bar -->\\n    <div class=\\\"topbar\\\">\\n      <div class=\\\"brand\\\">\\n        <div class=\\\"brand-logo\\\">\\n          <img src=\\\"https://backstory.chronicle.security/static/app/images/secops_dark_logo.svg\\\" alt=\\\"Google SecOps\\\" />\\n        </div>\\n      </div>\\n      <div class=\\\"crumbs\\\">Labs <span class=\\\"muted\\\">/</span> Getting Started</div>\\n      <div class=\\\"spacer\\\"></div>\\n      <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"themeToggle\\\" style=\\\"border-radius:999px; padding: 4px 10px;\\\">\\n        <span class=\\\"theme-icon\\\">ðŸŒ™</span>\\n      </button>\\n      <div class=\\\"user-profile\\\">\\n        <img src=\\\"https://lh3.googleusercontent.com/a/ACg8ocLv2SQf-hYcjWo6F4jYjSr3Up_AgYQO8f-5SUamfeerpNITziQ=s240-p-k-rw-no\\\" alt=\\\"Profile\\\" />\\n        <span class=\\\"name\\\">Svetla Yankova</span>\\n      </div>\\n    </div>\\n\\n    <!-- Sidebar -->\\n    <aside class=\\\"sidebar\\\">\\n      <div>\\n        <div class=\\\"nav-item active\\\" data-target=\\\"getting-started\\\">\\n          <div>\\n            <div class=\\\"title\\\">Getting Started</div>\\n            <div class=\\\"meta\\\">Overview & steps</div>\\n          </div>\\n          <span class=\\\"link-icon\\\" title=\\\"Link\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n              <path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/>\\n            </svg>\\n          </span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-0\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 1</div>\\n            <div class=\\\"meta\\\">Create Simulated Case</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-0\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-1\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 2</div>\\n            <div class=\\\"meta\\\">Explore the alert and follow the steps</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-1\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-2\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 3</div>\\n            <div class=\\\"meta\\\">Fix Playbook Issue</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-2\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-3\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 4</div>\\n            <div class=\\\"meta\\\">Automate the workflow via playbooks</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-3\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-4\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 5</div>\\n            <div class=\\\"meta\\\">Enhance Playbook</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-4\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"reference\\\">\\n          <div>\\n            <div class=\\\"title\\\">Reference</div>\\n            <div class=\\\"meta\\\">Links & docs</div>\\n          </div>\\n          <span class=\\\"link-icon\\\" title=\\\"Link\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n              <path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/>\\n            </svg>\\n          </span>\\n        </div>\\n      </div>\\n    </aside>\\n\\n    <!-- Main -->\\n    <main class=\\\"main\\\" id=\\\"mainScroll\\\">\\n      <div class=\\\"page-header\\\" id=\\\"getting-started\\\">\\n        <div>\\n          <h1>Getting Started</h1>\\n          <div class=\\\"sub\\\">\\n            Follow the guided steps, then complete the challenges. Use the <span class=\\\"kbd\\\">Next</span> buttons to move through the lab.\\n          </div>\\n        </div>\\n        <div class=\\\"d-flex gap-2\\\">\\n          <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"resetBtn\\\">Reset</button>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"grid\\\">\\n        <!-- Instructions Card -->\\n        <section class=\\\"cardx\\\" id=\\\"instructions\\\">\\n          <div class=\\\"cardx-header\\\">\\n            <div class=\\\"label\\\">Instructions</div>\\n            <div class=\\\"muted small\\\">Step <span id=\\\"stepNum\\\">1</span> of <span id=\\\"stepTotal\\\">3</span></div>\\n          </div>\\n          <div class=\\\"cardx-body\\\">\\n            <h3 class=\\\"step-title\\\" id=\\\"stepTitle\\\">Getting Started Case</h3>\\n            <p class=\\\"step-body\\\" id=\\\"stepBody\\\">\\n              This is the Getting Started Case, it contains all of your challenges\\n            </p>\\n\\n            <div class=\\\"alert border-0\\\" style=\\\"background: var(--panel-2); color: var(--muted);\\\">\\n              Tip: Do not close this case as it contains useful hints for this lab. \\n            </div>\\n\\n            <div class=\\\"step-actions\\\">\\n              <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"prevBtn\\\">Back</button>\\n              <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"nextBtn\\\">Next</button>\\n              <button class=\\\"btn btn-sm btn-primary\\\" id=\\\"finishBtn\\\" style=\\\"display:none;\\\">Finish</button>\\n            </div>\\n          </div>\\n        </section>\\n\\n        <!-- Status Card -->\\n        <section class=\\\"cardx\\\" id=\\\"status\\\">\\n          <div class=\\\"cardx-header\\\">\\n            <div class=\\\"label\\\">Lab Status</div>\\n            <div class=\\\"muted small\\\"><span id=\\\"doneCount\\\">0</span>/<span id=\\\"challengeCount\\\">5</span> challenges complete</div>\\n          </div>\\n          <div class=\\\"cardx-body\\\">\\n            <div class=\\\"d-flex align-items-center justify-content-between mb-2\\\">\\n              <div>\\n                <div class=\\\"fw-semibold\\\">Progress</div>\\n                <div class=\\\"muted small\\\">Complete challenges to unlock the lab badge.</div>\\n              </div>\\n              <span class=\\\"badge-soft\\\" id=\\\"statusBadge\\\">In Progress</span>\\n            </div>\\n\\n            <div class=\\\"progress\\\" style=\\\"height:10px; background: rgba(11,18,32,.55); border:1px solid var(--border);\\\">\\n              <div class=\\\"progress-bar\\\" id=\\\"progressBar\\\" role=\\\"progressbar\\\" style=\\\"width:0%\\\"></div>\\n            </div>\\n\\n            <hr style=\\\"border-color: var(--border); opacity:1;\\\" />\\n\\n            <div class=\\\"muted small\\\">\\n              Suggested workflow:\\n              <ol class=\\\"mt-2\\\">\\n                <li>Read the instructions.</li>\\n                <li>Open each challenge panel.</li>\\n                <li>Click <span class=\\\"kbd\\\">Mark Complete</span> when done.</li>\\n              </ol>\\n            </div>\\n          </div>\\n        </section>\\n      </div>\\n\\n      <!-- Challenges Grid -->\\n      <section class=\\\"cardx mt-3\\\" id=\\\"challenges\\\">\\n        <div class=\\\"cardx-header\\\">\\n          <div class=\\\"label\\\">Challenges</div>\\n          <div class=\\\"muted small\\\">Click a card to view details</div>\\n        </div>\\n\\n        <div class=\\\"cardx-body\\\">\\n          <div class=\\\"challenges-grid\\\" id=\\\"challengeRow\\\">\\n            <!-- Challenge 1 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"0\\\" id=\\\"challenge-0\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-rocket\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 1: Create Simulated Case</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge0\\\" data-badge-challenge=\\\"0\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Initialize the lab environment by creating a simulated security incident.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody0\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 1 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"0\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Create a case by clicking the  <i class=\\\"fas fa-plus\\\"></i> button </li>\\n                    <li>Select <i>Simulate Case</i> from the menu</li>\\n                    <li>Search for Login From Outside Of Business Hours</li>\\n                    <li>Click the Create Button</li>\\n                    <li>Select the current environment listed</li>\\n                    <li>Click the Refresh( <i class=\\\"fas fa-refresh\\\"></i>) Button</li>\\n                  </ul>\\n                  Evidence: The case tab now shows two cases.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"0\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"0\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 2 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"1\\\" id=\\\"challenge-1\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-search\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 2: Explore the alert and follow the steps</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge1\\\" data-badge-challenge=\\\"1\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Navigate the case UI and understand the incoming alert data.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody1\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 2 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"1\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Make sure the alert tab is open. The alerts tab will have the alert name in our case \\\"Login from Outside of Business Hours\\\"</li>\\n                    <li>In the alert view you can expolore various widgets that highlight important information about the alert.</li>\\n                    <li>You can see that not only was our login outside of normal business hours, but it was also from a new IP address from a location different then our normal location.</li>\\n                    <li>You can also see that the user is an Admin. All of those are very suspicious and should be investigated.</li>\\n                   \\n                \\n                  </ul>\\n                  Evidence: You can see all the information described in this challenge and find the regular office location of our user. \\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"1\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"1\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 3 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"2\\\" id=\\\"challenge-2\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-wrench\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 3: Complete instructions</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge2\\\" data-badge-challenge=\\\"2\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Complete the instructions provided by the playbook\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody2\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 3 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"2\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>In the insights widget you see an insight highlighting the next step in our investigation.</li>\\n                    <li>Follow the insight provided to you</li>\\n                  </ul>\\n                  Evidence: The case priority is now High as set by an orange indicator in the case title and the case list. Case is now assigned to @Tier2 team.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"2\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"2\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 4 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"3\\\" id=\\\"challenge-3\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-robot\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 4: Automate the workflow via playbooks</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge3\\\" data-badge-challenge=\\\"3\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                We notice that some of the steps in this playbook can be automated instead of following manual instructions.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody3\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 4 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"3\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>In the playbooks tab notice the playbook that is running behind the scenes for this alert.</li>\\n                    <li>Navigate to Respose > Playbooks and locate this playbook </li>\\n                    <li>You are presented with two branches with insturctions set as a Generic Insight widget.</li>\\n                    <li>Replace the insight widget with appropriate actions from the actions menu to automate the steps in the insight widget. </li>\\n                    <li> When complete, save the playbook andsimulate the case again to verify that the steps are being automated.</li>\\n                    \\n                  </ul>\\n                  Evidence: Case is now at high priority and assigned to @Tier2 team, similar to the last challenge. Review the Timeline tab to see how those automated actions ran..\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"3\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"3\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 5 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"4\\\" id=\\\"challenge-4\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-star\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 5: Enhance Playbook</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge4\\\" data-badge-challenge=\\\"4\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                We are going to experiment with adding an additional conditional branch to the playbook. Notice how sam is not only in a different location but also an admin. Lets add a conditional branch\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody4\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 5 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"4\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Navigate back to the Respose > Playbooks tab and locate the playbook you created in the last challenge.</li>\\n                    <li>After the location check branch add a new brach IF the locations are different.</li>\\n                    <li>In this new branch the condition should check for the user role variable</li>\\n                    <li>If the user role is admin, set the alert priority to critical</li>\\n                    <li>If the user role is admin, set the alert priority to high</li>\\n                    <li>Then for both branches escalate to @Tier2</li>\\n                    <li>Bonus: You can merge the two branches together into a single action.</li>\\n                    <li>Save the playbook and then simulate the case again to verify that the steps are being automated.</li>\\n\\n                  </ul>\\n                  Evidence: Now you have 3 different cases for logins outside of Business Hours but the last one will be tagged with critical priority and darker red. They will all be assigned to @Tier2 team.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"4\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"4\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </section>\\n\\n      <!-- Reference -->\\n      <section class=\\\"cardx mt-3\\\" id=\\\"reference\\\">\\n        <div class=\\\"cardx-header\\\">\\n          <div class=\\\"label\\\">Reference</div>\\n          <div class=\\\"muted small\\\">Helpful links</div>\\n        </div>\\n        <div class=\\\"cardx-body\\\">\\n          <div class=\\\"muted small\\\">\\n            <ul class=\\\"mb-0\\\">\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">SOAR console navigation</a></li>\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">Playbook execution basics</a></li>\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">Entity enrichment overview</a></li>\\n            </ul>\\n          </div>\\n        </div>\\n      </section>\\n\\n    </main>\\n  </div>\\n\\n  <div class=\\\"toastx\\\" id=\\\"toast\\\">\\n    <div class=\\\"fw-semibold\\\" id=\\\"toastTitle\\\">Nice.</div>\\n    <div class=\\\"muted small\\\" id=\\\"toastBody\\\">Challenge marked complete.</div>\\n  </div>\\n\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\\\"></script>\\n  <script>\\n    // --- Stepper (Instructions) ---\\n    const steps = [\\n      {\\n        title: \\\"Get Started Case\\\",\\n          body: \\\"This is the Getting Started Case, it contains all of your challenges\\\"\\n      },\\n      {\\n        title: \\\"Do the challenges step by step\\\",\\n        body: \\\"Do each challenge and carefully confirm that the evidence is present that the step is successfully completed\\\"\\n      },\\n      {\\n        title: \\\"Mark progress\\\",\\n        body: \\\"When complete mark your progress. Note that this progress will disappear if you refresh the tab, to complete the lab and verify all steps you must go to Qwiklabs\\\"\\n      }\\n    ];\\n\\n    let stepIdx = 0;\\n    const stepNum = document.getElementById(\\\"stepNum\\\");\\n    const stepTotal = document.getElementById(\\\"stepTotal\\\");\\n    const stepTitle = document.getElementById(\\\"stepTitle\\\");\\n    const stepBody = document.getElementById(\\\"stepBody\\\");\\n    const prevBtn = document.getElementById(\\\"prevBtn\\\");\\n    const nextBtn = document.getElementById(\\\"nextBtn\\\");\\n    const finishBtn = document.getElementById(\\\"finishBtn\\\");\\n\\n    stepTotal.textContent = steps.length;\\n\\n    function renderStep(){\\n      stepNum.textContent = (stepIdx + 1);\\n      stepTitle.textContent = steps[stepIdx].title;\\n      stepBody.textContent = steps[stepIdx].body;\\n\\n      prevBtn.disabled = stepIdx === 0;\\n      const atEnd = stepIdx === steps.length - 1;\\n      nextBtn.style.display = atEnd ? \\\"none\\\" : \\\"inline-block\\\";\\n      finishBtn.style.display = atEnd ? \\\"inline-block\\\" : \\\"none\\\";\\n    }\\n\\n    prevBtn.addEventListener(\\\"click\\\", () => { \\n      if(stepIdx>0){ \\n        stepIdx--; \\n        renderStep(); \\n        saveState();\\n      }\\n    });\\n    nextBtn.addEventListener(\\\"click\\\", () => { \\n      if(stepIdx<steps.length-1){ \\n        stepIdx++; \\n        renderStep(); \\n        saveState();\\n      }\\n    });\\n    finishBtn.addEventListener(\\\"click\\\", () => {\\n      showToast(\\\"All set.\\\", \\\"Now complete the challenges below.\\\");\\n      saveState();\\n    });\\n\\n    // --- Horizontal accordion behavior ---\\n    const challenges = document.querySelectorAll(\\\".challenge\\\");\\n    const collapseInstances = [];\\n\\n    function initCollapses(){\\n      challenges.forEach((c, idx) => {\\n        const body = document.getElementById(`cBody${idx}`);\\n        collapseInstances[idx] = new bootstrap.Collapse(body, { toggle: false });\\n      });\\n    }\\n\\n    function openChallenge(idx){\\n      challenges.forEach((c, i) => {\\n        const isTarget = i === idx;\\n        const badge = document.getElementById(`cBadge${i}`);\\n        const isDone = state.done[i];\\n        \\n        c.classList.toggle(\\\"active\\\", isTarget);\\n        if(isTarget) {\\n          collapseInstances[i].show();\\n          // Update badge text - show \\\"Close\\\" if not done, keep \\\"Done\\\" if completed\\n          if (!isDone && badge) {\\n            badge.textContent = \\\"Close\\\";\\n          }\\n        } else {\\n          collapseInstances[i].hide();\\n          // Update badge text - show \\\"Open\\\" if not done, keep \\\"Done\\\" if completed\\n          if (!isDone && badge) {\\n            badge.textContent = \\\"Open\\\";\\n          }\\n          // Hide hint image when challenge is closed\\n          const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${i}\\\"]`);\\n          if (image) {\\n            image.classList.remove(\\\"show\\\");\\n          }\\n          const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${i}\\\"]`);\\n          if (hintLink) {\\n            hintLink.textContent = \\\"View hint\\\";\\n          }\\n        }\\n      });\\n    }\\n\\n    // Click a challenge card to expand it\\n    challenges.forEach((c) => {\\n      c.addEventListener(\\\"click\\\", (e) => {\\n        if (e.target.classList.contains(\\\"markBtn\\\")) return; // don't conflict with button\\n        if (e.target.classList.contains(\\\"hint-link\\\")) return; // don't conflict with hint link\\n        if (e.target.classList.contains(\\\"badge-soft\\\")) return; // don't conflict with badge click\\n        const idx = Number(c.dataset.challenge);\\n        openChallenge(idx);\\n      });\\n    });\\n\\n    // Click badge to toggle challenge open/close\\n    document.querySelectorAll(\\\".challenge .badge-soft[data-badge-challenge]\\\").forEach(badge => {\\n      badge.addEventListener(\\\"click\\\", (e) => {\\n        e.stopPropagation();\\n        const challengeIdx = Number(badge.dataset.badgeChallenge);\\n        const challenge = document.querySelector(`.challenge[data-challenge=\\\"${challengeIdx}\\\"]`);\\n        const isActive = challenge && challenge.classList.contains(\\\"active\\\");\\n        \\n        // Toggle: if open, close it; if closed, open it\\n        if (isActive) {\\n          // Close this specific challenge\\n          const collapseInstance = collapseInstances[challengeIdx];\\n          if (collapseInstance) {\\n            collapseInstance.hide();\\n            challenge.classList.remove(\\\"active\\\");\\n            // Update badge text if not done\\n            if (!state.done[challengeIdx]) {\\n              badge.textContent = \\\"Open\\\";\\n            }\\n            // Hide hint image\\n            const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${challengeIdx}\\\"]`);\\n            if (image) {\\n              image.classList.remove(\\\"show\\\");\\n            }\\n            const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${challengeIdx}\\\"]`);\\n            if (hintLink) {\\n              hintLink.textContent = \\\"View hint\\\";\\n            }\\n          }\\n        } else {\\n          // Open this specific challenge\\n          openChallenge(challengeIdx);\\n        }\\n      });\\n    });\\n\\n    // --- Hint toggle functionality ---\\n    document.querySelectorAll(\\\".hint-link\\\").forEach(link => {\\n      link.addEventListener(\\\"click\\\", (e) => {\\n        e.preventDefault();\\n        e.stopPropagation();\\n        const challengeIdx = link.dataset.hintTarget;\\n        const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${challengeIdx}\\\"]`);\\n        if (image) {\\n          image.classList.toggle(\\\"show\\\");\\n          link.textContent = image.classList.contains(\\\"show\\\") ? \\\"Hide hint\\\" : \\\"View hint\\\";\\n        }\\n      });\\n    });\\n\\n    // --- Completion tracking with localStorage ---\\n    // Get case ID from hidden div\\n    const caseIdElement = document.getElementById(\\\"caseId\\\");\\n    const caseId = caseIdElement ? caseIdElement.dataset.caseId || \\\"12345\\\" : \\\"12345\\\";\\n    const storageKey = `soar_lab_progress_${caseId}`;\\n\\n    // Load state from localStorage or initialize default\\n    function loadState() {\\n      try {\\n        const saved = localStorage.getItem(storageKey);\\n        if (saved) {\\n          const parsed = JSON.parse(saved);\\n          return {\\n            done: parsed.done || [false, false, false, false, false],\\n            stepIdx: parsed.stepIdx !== undefined ? parsed.stepIdx : 0\\n          };\\n        }\\n      } catch (e) {\\n        console.warn(\\\"Failed to load state from localStorage:\\\", e);\\n      }\\n      return {\\n        done: [false, false, false, false, false],\\n        stepIdx: 0\\n      };\\n    }\\n\\n    // Save state to localStorage\\n    function saveState() {\\n      try {\\n        const stateToSave = {\\n          done: state.done,\\n          stepIdx: stepIdx,\\n          timestamp: new Date().toISOString()\\n        };\\n        localStorage.setItem(storageKey, JSON.stringify(stateToSave));\\n      } catch (e) {\\n        console.warn(\\\"Failed to save state to localStorage:\\\", e);\\n      }\\n    }\\n\\n    // Initialize state from localStorage\\n    const savedState = loadState();\\n    const state = { done: savedState.done };\\n    stepIdx = savedState.stepIdx;\\n\\n    const doneCountEl = document.getElementById(\\\"doneCount\\\");\\n    const challengeCountEl = document.getElementById(\\\"challengeCount\\\");\\n    const progressBar = document.getElementById(\\\"progressBar\\\");\\n    const statusBadge = document.getElementById(\\\"statusBadge\\\");\\n\\n    challengeCountEl.textContent = state.done.length;\\n\\n    // Restore UI state from loaded state\\n    function restoreUIState() {\\n      state.done.forEach((isDone, idx) => {\\n        const card = document.querySelector(`.challenge[data-challenge=\\\"${idx}\\\"]`);\\n        const badge = document.getElementById(`cBadge${idx}`);\\n        const btn = document.querySelector(`.markBtn[data-target=\\\"${idx}\\\"]`);\\n\\n        if (isDone) {\\n          if (card) card.classList.add(\\\"done\\\");\\n          if (badge) badge.textContent = \\\"Done\\\";\\n          if (btn) btn.textContent = \\\"Undo\\\";\\n        } else {\\n          if (card) card.classList.remove(\\\"done\\\");\\n          // Set badge text based on expansion state\\n          if (badge) {\\n            const isActive = card && card.classList.contains(\\\"active\\\");\\n            badge.textContent = isActive ? \\\"Close\\\" : \\\"Open\\\";\\n          }\\n          if (btn) btn.textContent = \\\"Mark Complete\\\";\\n        }\\n      });\\n    }\\n\\n    function updateProgress(){\\n      const doneCount = state.done.filter(Boolean).length;\\n      doneCountEl.textContent = doneCount;\\n\\n      const pct = Math.round((doneCount / state.done.length) * 100);\\n      progressBar.style.width = pct + \\\"%\\\";\\n\\n      // Update progress bar color - green when complete\\n      if (doneCount === state.done.length){\\n        progressBar.style.backgroundColor = \\\"rgba(34,197,94,.9)\\\";\\n        progressBar.style.background = \\\"linear-gradient(90deg, rgba(34,197,94,.95), rgba(16,185,129,.9))\\\";\\n      } else {\\n        // Reset to default Bootstrap primary color (blue)\\n        progressBar.style.backgroundColor = \\\"\\\";\\n        progressBar.style.background = \\\"\\\";\\n      }\\n\\n      // Update navigation dots to green when challenges are completed\\n      state.done.forEach((isDone, idx) => {\\n        const navDot = document.getElementById(`nav-dot-${idx}`);\\n        if (navDot) {\\n          if (isDone) {\\n            navDot.classList.add(\\\"green\\\");\\n            navDot.title = \\\"Completed\\\";\\n          } else {\\n            navDot.classList.remove(\\\"green\\\");\\n            navDot.title = \\\"Needs attention\\\";\\n          }\\n        }\\n      });\\n\\n      if (doneCount === state.done.length){\\n        statusBadge.textContent = \\\"Complete\\\";\\n        statusBadge.style.borderColor = \\\"rgba(34,197,94,.65)\\\";\\n        statusBadge.style.color = \\\"rgba(34,197,94,.95)\\\";\\n        if (doneCount > 0) {\\n          showToast(\\\"Lab complete.\\\", \\\"All challenges are marked complete.\\\");\\n        }\\n      } else {\\n        statusBadge.textContent = \\\"In Progress\\\";\\n        statusBadge.style.borderColor = \\\"var(--border)\\\";\\n        statusBadge.style.color = \\\"var(--muted)\\\";\\n      }\\n\\n      // Save state to localStorage\\n      saveState();\\n    }\\n\\n    document.querySelectorAll(\\\".markBtn\\\").forEach(btn => {\\n      btn.addEventListener(\\\"click\\\", (e) => {\\n        e.stopPropagation();\\n        const idx = Number(btn.dataset.target);\\n        state.done[idx] = !state.done[idx];\\n\\n        const card = document.querySelector(`.challenge[data-challenge=\\\"${idx}\\\"]`);\\n        const badge = document.getElementById(`cBadge${idx}`);\\n\\n        if(state.done[idx]){\\n          card.classList.add(\\\"done\\\");\\n          badge.textContent = \\\"Done\\\";\\n          showToast(\\\"Saved.\\\", `Challenge ${idx+1} marked complete.`);\\n          btn.textContent = \\\"Undo\\\";\\n        }else{\\n          card.classList.remove(\\\"done\\\");\\n          badge.textContent = \\\"Open\\\";\\n          showToast(\\\"Updated.\\\", `Challenge ${idx+1} marked open.`);\\n          btn.textContent = \\\"Mark Complete\\\";\\n        }\\n\\n        updateProgress();\\n      });\\n    });\\n\\n    // --- Sidebar navigation (CLICKABLE) ---\\n    const navItems = document.querySelectorAll(\\\".nav-item\\\");\\n    const mainScroll = document.getElementById(\\\"mainScroll\\\");\\n\\n    function setActiveNav(target){\\n      navItems.forEach(n => n.classList.remove(\\\"active\\\"));\\n      const match = document.querySelector(`.nav-item[data-target=\\\"${target}\\\"]`);\\n      if (match) match.classList.add(\\\"active\\\");\\n    }\\n\\n    function scrollToId(id){\\n      const el = document.getElementById(id);\\n      if (!el) return;\\n      el.scrollIntoView({ behavior: \\\"smooth\\\", block: \\\"start\\\" });\\n    }\\n\\n    navItems.forEach(item => {\\n      item.addEventListener(\\\"click\\\", () => {\\n        const target = item.dataset.target;\\n\\n        // mark active\\n        setActiveNav(target);\\n\\n        // targets:\\n        // - \\\"getting-started\\\"\\n        // - \\\"challenge-0/1/2\\\"\\n        // - \\\"reference\\\"\\n        if (target === \\\"getting-started\\\"){\\n          scrollToId(\\\"getting-started\\\");\\n          return;\\n        }\\n\\n        if (target === \\\"reference\\\"){\\n          scrollToId(\\\"reference\\\");\\n          return;\\n        }\\n\\n        if (target && target.startsWith(\\\"challenge-\\\")){\\n          const idx = Number(target.split(\\\"-\\\")[1]);\\n          // scroll to challenge row and open the correct challenge\\n          scrollToId(\\\"challenges\\\");\\n          openChallenge(idx);\\n\\n          // subtle extra nudge to ensure the row is visible in smaller viewports\\n          setTimeout(() => {\\n            document.getElementById(target)?.scrollIntoView({ behavior: \\\"smooth\\\", block: \\\"nearest\\\", inline: \\\"nearest\\\" });\\n          }, 250);\\n\\n          return;\\n        }\\n      });\\n    });\\n\\n    // --- Utilities ---\\n    const toast = document.getElementById(\\\"toast\\\");\\n    const toastTitle = document.getElementById(\\\"toastTitle\\\");\\n    const toastBody = document.getElementById(\\\"toastBody\\\");\\n    let toastTimer;\\n\\n    function showToast(title, body){\\n      toastTitle.textContent = title;\\n      toastBody.textContent = body;\\n      toast.classList.add(\\\"show\\\");\\n      clearTimeout(toastTimer);\\n      toastTimer = setTimeout(() => toast.classList.remove(\\\"show\\\"), 2200);\\n    }\\n\\n    document.getElementById(\\\"resetBtn\\\").addEventListener(\\\"click\\\", () => {\\n      stepIdx = 0; renderStep();\\n      state.done = [false, false, false, false, false];\\n\\n      document.querySelectorAll(\\\".challenge\\\").forEach((card, idx) => {\\n        card.classList.remove(\\\"done\\\");\\n        document.getElementById(`cBadge${idx}`).textContent = \\\"Open\\\";\\n        const btn = document.querySelector(`.markBtn[data-target=\\\"${idx}\\\"]`);\\n        if (btn) btn.textContent = \\\"Mark Complete\\\";\\n        collapseInstances[idx]?.hide();\\n        card.classList.remove(\\\"active\\\");\\n        // Hide hint images and reset hint link text\\n        const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${idx}\\\"]`);\\n        if (image) {\\n          image.classList.remove(\\\"show\\\");\\n        }\\n        const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${idx}\\\"]`);\\n        if (hintLink) {\\n          hintLink.textContent = \\\"View hint\\\";\\n        }\\n      });\\n\\n      // Clear localStorage for this case\\n      try {\\n        localStorage.removeItem(storageKey);\\n      } catch (e) {\\n        console.warn(\\\"Failed to clear localStorage:\\\", e);\\n      }\\n\\n      updateProgress();\\n      setActiveNav(\\\"getting-started\\\");\\n      scrollToId(\\\"getting-started\\\");\\n      showToast(\\\"Reset.\\\", \\\"Progress cleared.\\\");\\n    });\\n\\n    // --- Theme Toggle & SecOps Hook ---\\n    const themeToggle = document.getElementById(\\\"themeToggle\\\");\\n    const themeIcon = themeToggle.querySelector(\\\".theme-icon\\\");\\n    const body = document.body;\\n    const html = document.documentElement;\\n\\n    function setTheme(isLight, isManual = false) {\\n      const currentIsLight = body.classList.contains(\\\"light-theme\\\");\\n      if (currentIsLight === isLight && !isManual) return; // Skip redundant updates from observer\\n\\n      if (isLight) {\\n        body.classList.add(\\\"light-theme\\\");\\n        themeIcon.textContent = \\\"â˜€ï¸\\\";\\n      } else {\\n        body.classList.remove(\\\"light-theme\\\");\\n        themeIcon.textContent = \\\"ðŸŒ™\\\";\\n      }\\n    }\\n\\n    // 1. Manual Toggle (for testing/local use)\\n    themeToggle.addEventListener(\\\"click\\\", () => {\\n      const isLight = !body.classList.contains(\\\"light-theme\\\");\\n      setTheme(isLight, true);\\n      localStorage.setItem(\\\"theme\\\", isLight ? \\\"light\\\" : \\\"dark\\\");\\n      showToast(\\\"Theme updated.\\\", `Switched to ${isLight ? 'light' : 'dark'} mode.`);\\n    });\\n\\n\\n      function isColorDark(color) {\\n    if (!color) return false;\\n\\n    // rgb / rgba\\n    if (color.startsWith(\\\"rgb\\\")) {\\n      const m = color.match(/rgba?\\\\((\\\\d+),\\\\s*(\\\\d+),\\\\s*(\\\\d+)/i);\\n      if (!m) return false;\\n      const r = +m[1], g = +m[2], b = +m[3];\\n      return (0.299 * r + 0.587 * g + 0.114 * b) < 140;\\n    }\\n\\n    // hex\\n    let hex = color.replace(\\\"#\\\", \\\"\\\");\\n    if (hex.length === 3) hex = hex.split(\\\"\\\").map(c => c + c).join(\\\"\\\");\\n    if (hex.length !== 6) return false;\\n\\n    const r = parseInt(hex.slice(0, 2), 16);\\n    const g = parseInt(hex.slice(2, 4), 16);\\n    const b = parseInt(hex.slice(4, 6), 16);\\n    return (0.299 * r + 0.587 * g + 0.114 * b) < 140;\\n  }\\n\\n  // SecOps sends theme info via postMessage into the widget iframe\\n  window.addEventListener(\\\"message\\\", (evt) => {\\n    if (!evt?.data || typeof evt.data !== \\\"object\\\") return;\\n    if (!evt.data.background) return;\\n\\n    const isDark = isColorDark(evt.data.background);\\n    const isLight = !isDark;\\n\\n    // Your system:\\n    // dark  -> no class\\n    // light -> body.light-theme\\n    document.body.classList.toggle(\\\"light-theme\\\", isLight);\\n    \\n    // Update theme icon to match the theme\\n    const themeToggle = document.getElementById(\\\"themeToggle\\\");\\n    const themeIcon = themeToggle?.querySelector(\\\".theme-icon\\\");\\n    if (themeIcon) {\\n      themeIcon.textContent = isLight ? \\\"â˜€ï¸\\\" : \\\"ðŸŒ™\\\";\\n    }\\n  });\\n\\n    // 2. THE HOOK: Watch for Google SecOps platform theme changes\\n    const syncWithPlatform = () => {\\n      // Check for platform-specific indicators\\n      const isLight = \\n        body.classList.contains(\\\"light-theme\\\") || \\n        body.classList.contains(\\\"light\\\") ||\\n        html.classList.contains(\\\"light-theme\\\") ||\\n        html.classList.contains(\\\"light\\\") ||\\n        html.getAttribute(\\\"data-theme\\\") === \\\"light\\\" ||\\n        window.matchMedia('(prefers-color-scheme: light)').matches;\\n\\n      setTheme(isLight);\\n    };\\n\\n    // Watch for attribute changes (classes, data-attributes)\\n    const observer = new MutationObserver(syncWithPlatform);\\n    observer.observe(body, { attributes: true });\\n    observer.observe(html, { attributes: true });\\n\\n    // Watch for system/browser theme changes (often used as a proxy by platform containers)\\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: light)');\\n    if (mediaQuery.addEventListener) {\\n      mediaQuery.addEventListener('change', (e) => setTheme(e.matches));\\n    }\\n\\n    // 3. Initial Load Sync\\n    const savedTheme = localStorage.getItem(\\\"theme\\\");\\n    if (savedTheme) {\\n      setTheme(savedTheme === \\\"light\\\", true);\\n    } else {\\n      syncWithPlatform();\\n    }\\n\\n    // Init\\n    restoreUIState();\\n    renderStep();\\n    initCollapses();\\n    updateProgress();\\n  </script>\\n</body>\\n</html>\\n\",\n  \"htmlHeight\": 1000,\n  \"safeRendering\": false,\n  \"type\": 3,\n  \"widgetDefinitionScope\": 2\n}","GridColumns":2,"ActionWidgetTemplateIdentifier":null,"StepIdentifier":null,"StepIntegration":null,"BlockStepIdentifier":null,"BlockStepInstanceName":null,"PresentIfEmpty":false,"ConditionsGroup":{"Conditions":[],"LogicalOperator":0},"IntegrationName":""},{"Title":"Lab Steps","Description":"This Widget lists all playbook actions waiting for user input.","Identifier":"c2a59955-37b1-425a-bee8-312d1bcd0439","Order":4,"TemplateIdentifier":"49b44934-e1b5-424e-83da-5388dd492f99","Type":11,"DataDefinitionJson":"{\n  \"pendingSteps\": null,\n  \"type\": 11,\n  \"widgetDefinitionScope\": 0\n}","GridColumns":2,"ActionWidgetTemplateIdentifier":null,"StepIdentifier":null,"StepIntegration":null,"BlockStepIdentifier":null,"BlockStepInstanceName":null,"PresentIfEmpty":false,"ConditionsGroup":{"Conditions":[],"LogicalOperator":0},"IntegrationName":""}],"Definition":{"Identifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","IsEnable":true,"Version":0.0,"IsArchived":false,"IsAutomatic":false,"Name":"Global Get Started Case View","Category":8,"Description":"","Priority":2,"Creator":"4a70f17f-68e6-4aad-8269-fc871864e29a","VersionCreator":null,"VersionComment":null,"OriginalWorkflowIdentifier":"cf120cc7-19f6-4dc9-9a77-4e4592d93bf5","TemplateName":null,"PlaybookType":0,"IsDebugMode":false,"DebugBaseAlertIdentifier":null,"DebugAlertIdentifier":null,"SimulationClone":false,"DefaultAccessLevel":2,"CreationSource":1,"Steps":[{"Identifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","OriginalStepIdentifier":"0a102456-f145-4230-b411-1f975cc066c1","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","ParentStepIdentifiers":[],"ParentStepIdentifier":"","PreviousResultCondition":"{}","InstanceName":"Siemplify_Case Comment_1","IsAutomatic":true,"Name":"Siemplify_Case Comment","IsSkippable":false,"Description":"Add a comment to the case the current alert has been grouped to","ActionProvider":"Scripts","ActionName":"Siemplify_Case Comment","Type":0,"Integration":"Siemplify","Parameters":[{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"AssignedUsers","Value":null},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"DynamicInjectionInstancePlaceholder","Value":""},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"FallbackIntegrationInstance","Value":null},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"FetchInstanceByName","Value":"false"},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"HasApprovalLink","Value":null},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"IntegrationInstance","Value":"f8ca163b-8861-45b0-973b-40f105bd7d4a"},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"MessageToAssignee","Value":null},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"PendingActionTimeout","Value":null},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"RetryConfiguration","Value":"{\"Enabled\":false,\"IntervalInSeconds\":30,\"NumberOfRetries\":1}"},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"ScriptName","Value":"Siemplify_Case Comment"},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"ScriptParametersEntityFields","Value":"{\"Comment\":\"Case created\"}"},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"SelectedScopeName","Value":"All entities"},{"ParentStepIdentifier":"5b6deebe-fd8b-4448-8afc-00ad12a3d233","ParentWorkflowIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Name":"UseEntitiesLoopScope","Value":null}],"AutoSkipOnFailure":false,"IsDebugMockData":false,"StepDebugData":null,"ParentStepContainerId":null,"IsTouchedByAi":false,"StartLoopStepIdentifier":null,"ParallelActions":[]}],"Triggers":[{"Identifier":"34b54256-9b92-4cd0-b703-dc61499de234","IsEnabled":true,"DefinitionIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Type":2,"WorkflowName":null,"LogicalOperator":0,"Conditions":[{"FieldName":"","MatchType":0,"Value":"Getting Started","CustomOperatorName":null}],"Environments":["*"]}],"OverviewTemplates":[{"Identifier":"49b44934-e1b5-424e-83da-5388dd492f99","Name":"Get Started Case","Creator":null,"PlaybookDefinitionIdentifier":"0d568b76-66e2-4aa8-ab9f-3426741eb35e","Type":0,"AlertRuleType":null,"Roles":[],"Widgets":[{"Title":"HTML","Description":"","Identifier":"64b252bf-6419-41e5-96ae-e1e709fb1780","Order":1,"TemplateIdentifier":"49b44934-e1b5-424e-83da-5388dd492f99","Type":3,"DataDefinitionJson":"{\n  \"htmlContent\": \"<!doctype html>\\n<html lang=\\\"en\\\">\\n<head>\\n  <meta charset=\\\"utf-8\\\" />\\n  <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1\\\" />\\n  <meta name=\\\"color-scheme\\\" content=\\\"light dark\\\">\\n  <title>Google SecOps SOAR Lab â€” Getting Started</title>\\n\\n  <!-- UI library (Bootstrap 5) -->\\n  <link href=\\\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\\\" rel=\\\"stylesheet\\\"/>\\n  <!-- Font Awesome -->\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\\\" integrity=\\\"sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==\\\" crossorigin=\\\"anonymous\\\" referrerpolicy=\\\"no-referrer\\\" />\\n\\n  <style>\\n    :root{\\n      --bg:#0b1220;\\n      --panel:#101a2e;\\n      --panel-2:#0e172a;\\n      --border:#1f2b45;\\n      --muted:#94a3b8;\\n      --text:#e5e7eb;\\n      --accent:#3b82f6;\\n      --accent-2:#22c55e;\\n      --danger:#ef4444;\\n      --shadow: 0 10px 30px rgba(0,0,0,.35);\\n      --radius: 14px;\\n    }\\n\\n    body.light-theme,\\n    html[data-theme='light'] body {\\n      --bg: #f1f3f4;\\n      --panel: #ffffff;\\n      --panel-2: #f8f9fa;\\n      --border: #dadce0;\\n      --muted: #5f6368;\\n      --text: #202124;\\n      --accent: #1a73e8;\\n      --accent-2: #1e8e3e;\\n      --shadow: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);\\n    }\\n\\n    html,body{height:100%}\\n    body{\\n      margin:0;\\n      background: radial-gradient(900px 500px at 40% -10%, rgba(59,130,246,.18), transparent 60%),\\n                  radial-gradient(700px 420px at 85% 15%, rgba(34,197,94,.12), transparent 55%),\\n                  var(--bg);\\n      color: var(--text);\\n      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, \\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\";\\n      transition: background 0.3s ease, color 0.3s ease;\\n    }\\n\\n    body.light-theme,\\n    html[data-theme='light'] body {\\n      background: var(--bg);\\n    }\\n\\n    /* App chrome */\\n    .app{\\n      height:100%;\\n      display:grid;\\n      grid-template-rows: 56px 1fr;\\n      grid-template-columns: 280px 1fr;\\n      grid-template-areas:\\n        \\\"top top\\\"\\n        \\\"side main\\\";\\n    }\\n\\n    .topbar{\\n      grid-area: top;\\n      display:flex;\\n      align-items:center;\\n      gap:14px;\\n      padding: 0 16px;\\n      background: var(--panel);\\n      border-bottom: 1px solid var(--border);\\n      backdrop-filter: blur(10px);\\n    }\\n    .brand{\\n      display:flex; align-items:center; gap:10px;\\n      font-weight:700;\\n      letter-spacing:.2px;\\n    }\\n    .brand-logo{\\n      height: 20px;\\n      width: auto;\\n      display: block;\\n    }\\n    .brand-logo img{\\n      height: 100%;\\n      width: auto;\\n      display: block;\\n    }\\n    /* Light mode logo - invert colors for visibility */\\n    body.light-theme .brand-logo img{\\n      filter: invert(1);\\n    }\\n    .topbar .crumbs{\\n      color: var(--muted);\\n      font-size:.9rem;\\n    }\\n    .topbar .spacer{flex:1}\\n    .pill{\\n      padding: 6px 10px;\\n      border: 1px solid var(--border);\\n      border-radius: 999px;\\n      background: var(--panel-2);\\n      color: var(--muted);\\n      font-size:.85rem;\\n    }\\n    .user-profile{\\n      display:flex;\\n      align-items:center;\\n      gap:10px;\\n      padding: 4px 8px;\\n      border-radius: 999px;\\n      background: var(--panel-2);\\n      border: 1px solid var(--border);\\n    }\\n    .user-profile img{\\n      width:32px;\\n      height:32px;\\n      border-radius:50%;\\n      object-fit:cover;\\n    }\\n    .user-profile .name{\\n      font-size:.9rem;\\n      color: var(--text);\\n      font-weight:500;\\n    }\\n\\n    .sidebar{\\n      grid-area: side;\\n      background: var(--panel-2);\\n      border-right: 1px solid var(--border);\\n      padding: 14px 12px;\\n      overflow:auto;\\n    }\\n\\n    .nav-item{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      padding: 10px 10px;\\n      margin: 8px 0;\\n      border: 1px solid var(--border);\\n      border-radius: 12px;\\n      background: var(--panel);\\n      box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;\\n      cursor: pointer;\\n      user-select: none;\\n      transition: transform .10s ease, border-color .10s ease, background .10s ease;\\n    }\\n    .nav-item:hover{\\n      transform: translateY(-1px);\\n      border-color: rgba(59,130,246,.45);\\n      background: rgba(59,130,246,.06);\\n    }\\n    .nav-item.active{\\n      border-color: rgba(59,130,246,.6);\\n      background: rgba(59,130,246,.10);\\n    }\\n    .nav-item .title{\\n      font-size:.92rem;\\n      line-height:1.1;\\n    }\\n    .nav-item .meta{\\n      font-size:.78rem;\\n      color: var(--muted);\\n    }\\n\\n    .dot{\\n      width:10px; height:10px;\\n      border-radius:999px;\\n      background: var(--danger);\\n      box-shadow: 0 0 0 4px rgba(239,68,68,.12);\\n      flex: 0 0 auto;\\n    }\\n    .dot.green{\\n      background: var(--accent-2);\\n      box-shadow: 0 0 0 4px rgba(34,197,94,.12);\\n    }\\n    .link-icon{\\n      width:16px; height:16px;\\n      flex: 0 0 auto;\\n      opacity:0.6;\\n      color: var(--muted);\\n    }\\n    .link-icon svg{\\n      width:100%;\\n      height:100%;\\n      fill: currentColor;\\n    }\\n\\n    .main{\\n      grid-area: main;\\n      padding: 18px 18px 26px;\\n      overflow:auto;\\n    }\\n\\n    .page-header{\\n      display:flex;\\n      align-items:flex-start;\\n      justify-content:space-between;\\n      gap: 14px;\\n      padding: 14px 16px;\\n      border: 1px solid var(--border);\\n      border-radius: var(--radius);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      scroll-margin-top: 74px;\\n    }\\n    .page-header h1{\\n      margin:0;\\n      font-size: 1.35rem;\\n      letter-spacing:.2px;\\n    }\\n    .page-header .sub{\\n      margin-top:4px;\\n      color: var(--muted);\\n      font-size:.92rem;\\n    }\\n\\n    /* Content cards */\\n    .grid{\\n      margin-top: 14px;\\n      display:grid;\\n      grid-template-columns: 1.2fr .8fr;\\n      gap: 14px;\\n    }\\n    @media (max-width: 1100px){\\n      .app{grid-template-columns: 240px 1fr;}\\n      .grid{grid-template-columns:1fr;}\\n    }\\n\\n    .cardx{\\n      border: 1px solid var(--border);\\n      border-radius: var(--radius);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      overflow:hidden;\\n      scroll-margin-top: 74px;\\n    }\\n    .cardx .cardx-header{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      padding: 12px 14px;\\n      border-bottom: 1px solid var(--border);\\n      background: var(--panel-2);\\n    }\\n    .cardx .cardx-header .label{\\n      font-weight:600;\\n      font-size:.95rem;\\n    }\\n    .cardx .cardx-body{\\n      padding: 14px;\\n    }\\n    /* Instructions card special styling */\\n    #instructions{\\n      background: linear-gradient(135deg, rgba(34,197,94,.08), rgba(16,185,129,.05));\\n      border-color: rgba(34,197,94,.25);\\n    }\\n    #instructions .cardx-header{\\n      background: linear-gradient(135deg, rgba(34,197,94,.12), rgba(16,185,129,.08));\\n      border-bottom-color: rgba(34,197,94,.2);\\n    }\\n    #instructions .cardx-header .label{\\n      color: rgba(74,222,128,.95);\\n    }\\n    body.light-theme #instructions{\\n      background: linear-gradient(135deg, rgba(34,197,94,.06), rgba(16,185,129,.04));\\n      border-color: rgba(34,197,94,.2);\\n    }\\n    body.light-theme #instructions .cardx-header{\\n      background: linear-gradient(135deg, rgba(34,197,94,.08), rgba(16,185,129,.06));\\n      border-bottom-color: rgba(34,197,94,.15);\\n    }\\n    body.light-theme #instructions .cardx-header .label{\\n      color: #1e8e3e;\\n    }\\n    #instructions .alert{\\n      background: linear-gradient(135deg, rgba(34,197,94,.12), rgba(16,185,129,.08)) !important;\\n      border: 1px solid rgba(34,197,94,.2) !important;\\n      color: rgba(74,222,128,.95) !important;\\n    }\\n    body.light-theme #instructions .alert{\\n      background: linear-gradient(135deg, rgba(34,197,94,.1), rgba(16,185,129,.06)) !important;\\n      border-color: rgba(34,197,94,.15) !important;\\n      color: #1e8e3e !important;\\n    }\\n    .muted{color: var(--muted);}\\n    .kbd{\\n      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace;\\n      font-size:.84rem;\\n      padding: 2px 6px;\\n      border-radius: 8px;\\n      border: 1px solid var(--border);\\n      background: var(--panel-2);\\n      color: var(--text);\\n    }\\n\\n    body.light-theme .nav-item.active {\\n      background: #e8f0fe;\\n      border-color: #1a73e8;\\n      color: #1a73e8;\\n    }\\n    body.light-theme .nav-item.active .title {\\n      font-weight: 600;\\n    }\\n    body.light-theme .nav-item.active .meta {\\n      color: #1a73e8;\\n      opacity: 0.8;\\n    }\\n\\n    body.light-theme .btn-primary {\\n      background: #1a73e8;\\n      border-color: #1a73e8;\\n    }\\n    body.light-theme .btn-primary:hover {\\n      background: #1765cc;\\n      box-shadow: 0 1px 3px 1px rgba(60,64,67, 0.2);\\n    }\\n\\n    body.light-theme .kbd {\\n      background: #f1f3f4;\\n      border-color: #dadce0;\\n      color: #3c4043;\\n    }\\n\\n    body.light-theme .badge-soft {\\n      background: #f1f3f4;\\n      border-color: #dadce0;\\n      color: #5f6368;\\n    }\\n\\n    body.light-theme .topbar {\\n      background: #ffffff;\\n      box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3);\\n      z-index: 10;\\n    }\\n    body.light-theme .sidebar {\\n      background: #ffffff;\\n    }\\n    body.light-theme .nav-item {\\n      border: 1px solid transparent;\\n      background: transparent;\\n    }\\n    body.light-theme .nav-item:hover {\\n      background: #f1f3f4;\\n      transform: none;\\n    }\\n    body.light-theme .cardx {\\n      border-color: #dadce0;\\n    }\\n    body.light-theme .cardx .cardx-header {\\n      background: #ffffff;\\n      border-bottom: 1px solid #dadce0;\\n    }\\n    body.light-theme .challenge {\\n      background: #ffffff;\\n      border-color: #dadce0;\\n    }\\n    body.light-theme .challenge:hover {\\n      box-shadow: 0 1px 2px 0 rgba(60,64,67,0.3), 0 1px 3px 1px rgba(60,64,67,0.15);\\n      transform: translateY(-1px);\\n    }\\n    body.light-theme .challenge.active {\\n      border-color: #1a73e8;\\n      background: #f8f9fa;\\n      box-shadow: 0 4px 20px rgba(26,115,232,.15), 0 1px 2px 0 rgba(60,64,67,0.3);\\n    }\\n    body.light-theme .challenge-icon {\\n      background: linear-gradient(135deg, rgba(26,115,232,.15), rgba(26,115,232,.1));\\n      border-color: rgba(26,115,232,.25);\\n      color: #1a73e8;\\n    }\\n    body.light-theme .challenge.done .challenge-icon {\\n      background: linear-gradient(135deg, rgba(30,142,62,.15), rgba(30,142,62,.1));\\n      border-color: rgba(30,142,62,.25);\\n      color: #1e8e3e;\\n    }\\n\\n    /* Instruction stepper */\\n    .step-title{\\n      font-weight:700;\\n      margin:0 0 6px;\\n      font-size:1.05rem;\\n    }\\n    .step-body{\\n      color: var(--muted);\\n      margin:0 0 12px;\\n      line-height:1.45;\\n    }\\n    .step-actions{\\n      display:flex;\\n      gap:10px;\\n      align-items:center;\\n      justify-content:flex-end;\\n    }\\n    .btn-primary{\\n      background: rgba(59,130,246,.95);\\n      border-color: rgba(59,130,246,.95);\\n    }\\n    .btn-outline-light{\\n      border-color: rgba(148,163,184,.35);\\n      color: var(--text);\\n    }\\n    .btn-outline-light:hover{\\n      background: rgba(148,163,184,.10);\\n      border-color: rgba(148,163,184,.55);\\n      color: var(--text);\\n    }\\n\\n    /* Challenges Grid */\\n    .challenges-grid{\\n      display:grid;\\n      grid-template-columns: repeat(3, 1fr);\\n      gap: 14px;\\n    }\\n    @media (max-width: 1100px){\\n      .challenges-grid{\\n        grid-template-columns: repeat(2, 1fr);\\n      }\\n    }\\n    @media (max-width: 768px){\\n      .challenges-grid{\\n        grid-template-columns: 1fr;\\n      }\\n    }\\n    .challenge{\\n      border: 1px solid var(--border);\\n      border-radius: 14px;\\n      background: var(--panel);\\n      padding: 16px;\\n      position:relative;\\n      box-shadow: 0 1px 0 rgba(255,255,255,.03) inset;\\n      transition: transform .12s ease, border-color .12s ease, background .12s ease, padding .3s ease, grid-column .3s ease;\\n      cursor:pointer;\\n      display:flex;\\n      flex-direction:column;\\n    }\\n    .challenge:hover:not(.active){\\n      transform: translateY(-2px);\\n      border-color: rgba(59,130,246,.45);\\n      background: rgba(59,130,246,.06);\\n    }\\n    .challenge.active{\\n      border-color: rgba(59,130,246,.75);\\n      background: rgba(59,130,246,.10);\\n      grid-column: span 3;\\n      padding: 24px;\\n      transform: scale(1.02);\\n      box-shadow: 0 4px 20px rgba(59,130,246,.15), 0 1px 0 rgba(255,255,255,.03) inset;\\n      z-index: 10;\\n    }\\n    @media (max-width: 1100px){\\n      .challenge.active{\\n        grid-column: span 2;\\n      }\\n    }\\n    @media (max-width: 768px){\\n      .challenge.active{\\n        grid-column: span 1;\\n      }\\n    }\\n    .challenge.done{\\n      border-color: rgba(34,197,94,.65);\\n      background: rgba(34,197,94,.10);\\n    }\\n    .challenge-icon{\\n      width: 40px;\\n      height: 40px;\\n      border-radius: 10px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      font-size: 1.2rem;\\n      flex-shrink: 0;\\n      margin-right: 12px;\\n      background: linear-gradient(135deg, rgba(59,130,246,.2), rgba(34,197,94,.15));\\n      color: var(--accent);\\n      border: 1px solid rgba(59,130,246,.3);\\n      transition: width .3s ease, height .3s ease, font-size .3s ease;\\n    }\\n    .challenge.active .challenge-icon{\\n      width: 56px;\\n      height: 56px;\\n      font-size: 1.6rem;\\n    }\\n    .challenge.done .challenge-icon{\\n      background: linear-gradient(135deg, rgba(34,197,94,.2), rgba(34,197,94,.15));\\n      color: var(--accent-2);\\n      border-color: rgba(34,197,94,.4);\\n    }\\n    .challenge .top{\\n      display:flex;\\n      align-items:flex-start;\\n      justify-content:space-between;\\n      gap:10px;\\n      margin-bottom:10px;\\n    }\\n    .challenge .top-left{\\n      display:flex;\\n      align-items:flex-start;\\n      gap:12px;\\n      flex:1;\\n    }\\n    .challenge .name{\\n      font-weight:700;\\n      font-size:1rem;\\n      margin:0;\\n      flex:1;\\n      transition: font-size .3s ease;\\n    }\\n    .challenge.active .name{\\n      font-size:1.25rem;\\n    }\\n    .badge-soft{\\n      border: 1px solid var(--border);\\n      background: rgba(16,26,46,.55);\\n      color: var(--muted);\\n      font-weight:600;\\n      border-radius: 999px;\\n      padding: 2px 10px;\\n      font-size:.75rem;\\n      white-space:nowrap;\\n    }\\n    .challenge .badge-soft{\\n      cursor: pointer;\\n      transition: transform .1s ease, border-color .1s ease, background .1s ease;\\n      user-select: none;\\n    }\\n    .challenge .badge-soft:hover:not(.done-badge){\\n      transform: scale(1.05);\\n      border-color: rgba(59,130,246,.5);\\n      background: rgba(59,130,246,.1);\\n    }\\n    .challenge.done .badge-soft{\\n      border-color: rgba(34,197,94,.65);\\n      color: rgba(34,197,94,.95);\\n      background: rgba(34,197,94,.15);\\n    }\\n    .challenge .desc{\\n      color: var(--muted);\\n      font-size:.9rem;\\n      margin:0 0 12px;\\n      line-height:1.4;\\n      flex:1;\\n      transition: font-size .3s ease;\\n    }\\n    .challenge.active .desc{\\n      font-size:1rem;\\n      line-height:1.5;\\n    }\\n    .challenge .details{\\n      margin-top:auto;\\n    }\\n    .challenge.active .details{\\n      font-size: 1rem;\\n    }\\n    .challenge.active .details .muted.small{\\n      font-size: 0.95rem;\\n    }\\n    .challenge-image{\\n      width: 100%;\\n      max-width: 100%;\\n      border-radius: 8px;\\n      margin: 12px 0;\\n      border: 1px solid var(--border);\\n      box-shadow: 0 2px 4px rgba(0,0,0,.1);\\n      display: none;\\n      transition: opacity .3s ease;\\n    }\\n    .challenge-image.show{\\n      display: block;\\n      animation: fadeIn .3s ease;\\n    }\\n    @keyframes fadeIn {\\n      from { opacity: 0; }\\n      to { opacity: 1; }\\n    }\\n    .challenge .footer{\\n      display:flex;\\n      align-items:center;\\n      justify-content:space-between;\\n      gap:10px;\\n      margin-top: 12px;\\n      padding-top: 12px;\\n      border-top: 1px solid var(--border);\\n    }\\n    .small-link{\\n      color: rgba(59,130,246,.95);\\n      text-decoration:none;\\n      font-size:.9rem;\\n    }\\n    .small-link:hover{ text-decoration:underline; }\\n\\n    /* Completion toast */\\n    .toastx{\\n      position: fixed;\\n      right: 16px;\\n      bottom: 16px;\\n      max-width: 360px;\\n      padding: 12px 14px;\\n      border-radius: 14px;\\n      border: 1px solid var(--border);\\n      background: var(--panel);\\n      box-shadow: var(--shadow);\\n      display:none;\\n      z-index: 999;\\n    }\\n    .toastx.show{display:block;}\\n  </style>\\n</head>\\n\\n<body>\\n  <!-- Hidden case ID for localStorage key -->\\n  <div id=\\\"caseId\\\" style=\\\"display: none;\\\" data-case-id=\\\"12345\\\"></div>\\n  <div class=\\\"app\\\">\\n    <!-- Top Bar -->\\n    <div class=\\\"topbar\\\">\\n      <div class=\\\"brand\\\">\\n        <div class=\\\"brand-logo\\\">\\n          <img src=\\\"https://backstory.chronicle.security/static/app/images/secops_dark_logo.svg\\\" alt=\\\"Google SecOps\\\" />\\n        </div>\\n      </div>\\n      <div class=\\\"crumbs\\\">Labs <span class=\\\"muted\\\">/</span> Getting Started</div>\\n      <div class=\\\"spacer\\\"></div>\\n      <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"themeToggle\\\" style=\\\"border-radius:999px; padding: 4px 10px;\\\">\\n        <span class=\\\"theme-icon\\\">ðŸŒ™</span>\\n      </button>\\n      <div class=\\\"user-profile\\\">\\n        <img src=\\\"https://lh3.googleusercontent.com/a/ACg8ocLv2SQf-hYcjWo6F4jYjSr3Up_AgYQO8f-5SUamfeerpNITziQ=s240-p-k-rw-no\\\" alt=\\\"Profile\\\" />\\n        <span class=\\\"name\\\">Svetla Yankova</span>\\n      </div>\\n    </div>\\n\\n    <!-- Sidebar -->\\n    <aside class=\\\"sidebar\\\">\\n      <div>\\n        <div class=\\\"nav-item active\\\" data-target=\\\"getting-started\\\">\\n          <div>\\n            <div class=\\\"title\\\">Getting Started</div>\\n            <div class=\\\"meta\\\">Overview & steps</div>\\n          </div>\\n          <span class=\\\"link-icon\\\" title=\\\"Link\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n              <path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/>\\n            </svg>\\n          </span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-0\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 1</div>\\n            <div class=\\\"meta\\\">Create Simulated Case</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-0\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-1\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 2</div>\\n            <div class=\\\"meta\\\">Explore the alert and follow the steps</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-1\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-2\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 3</div>\\n            <div class=\\\"meta\\\">Fix Playbook Issue</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-2\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-3\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 4</div>\\n            <div class=\\\"meta\\\">Automate the workflow via playbooks</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-3\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"challenge-4\\\">\\n          <div>\\n            <div class=\\\"title\\\">Challenge 5</div>\\n            <div class=\\\"meta\\\">Enhance Playbook</div>\\n          </div>\\n          <span class=\\\"dot\\\" id=\\\"nav-dot-4\\\" title=\\\"Needs attention\\\"></span>\\n        </div>\\n\\n        <div class=\\\"nav-item\\\" data-target=\\\"reference\\\">\\n          <div>\\n            <div class=\\\"title\\\">Reference</div>\\n            <div class=\\\"meta\\\">Links & docs</div>\\n          </div>\\n          <span class=\\\"link-icon\\\" title=\\\"Link\\\">\\n            <svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n              <path d=\\\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\\\"/>\\n            </svg>\\n          </span>\\n        </div>\\n      </div>\\n    </aside>\\n\\n    <!-- Main -->\\n    <main class=\\\"main\\\" id=\\\"mainScroll\\\">\\n      <div class=\\\"page-header\\\" id=\\\"getting-started\\\">\\n        <div>\\n          <h1>Getting Started</h1>\\n          <div class=\\\"sub\\\">\\n            Follow the guided steps, then complete the challenges. Use the <span class=\\\"kbd\\\">Next</span> buttons to move through the lab.\\n          </div>\\n        </div>\\n        <div class=\\\"d-flex gap-2\\\">\\n          <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"resetBtn\\\">Reset</button>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"grid\\\">\\n        <!-- Instructions Card -->\\n        <section class=\\\"cardx\\\" id=\\\"instructions\\\">\\n          <div class=\\\"cardx-header\\\">\\n            <div class=\\\"label\\\">Instructions</div>\\n            <div class=\\\"muted small\\\">Step <span id=\\\"stepNum\\\">1</span> of <span id=\\\"stepTotal\\\">3</span></div>\\n          </div>\\n          <div class=\\\"cardx-body\\\">\\n            <h3 class=\\\"step-title\\\" id=\\\"stepTitle\\\">Getting Started Case</h3>\\n            <p class=\\\"step-body\\\" id=\\\"stepBody\\\">\\n              This is the Getting Started Case, it contains all of your challenges\\n            </p>\\n\\n            <div class=\\\"alert border-0\\\" style=\\\"background: var(--panel-2); color: var(--muted);\\\">\\n              Tip: Do not close this case as it contains useful hints for this lab. \\n            </div>\\n\\n            <div class=\\\"step-actions\\\">\\n              <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"prevBtn\\\">Back</button>\\n              <button class=\\\"btn btn-sm btn-outline-light\\\" id=\\\"nextBtn\\\">Next</button>\\n              <button class=\\\"btn btn-sm btn-primary\\\" id=\\\"finishBtn\\\" style=\\\"display:none;\\\">Finish</button>\\n            </div>\\n          </div>\\n        </section>\\n\\n        <!-- Status Card -->\\n        <section class=\\\"cardx\\\" id=\\\"status\\\">\\n          <div class=\\\"cardx-header\\\">\\n            <div class=\\\"label\\\">Lab Status</div>\\n            <div class=\\\"muted small\\\"><span id=\\\"doneCount\\\">0</span>/<span id=\\\"challengeCount\\\">5</span> challenges complete</div>\\n          </div>\\n          <div class=\\\"cardx-body\\\">\\n            <div class=\\\"d-flex align-items-center justify-content-between mb-2\\\">\\n              <div>\\n                <div class=\\\"fw-semibold\\\">Progress</div>\\n                <div class=\\\"muted small\\\">Complete challenges to unlock the lab badge.</div>\\n              </div>\\n              <span class=\\\"badge-soft\\\" id=\\\"statusBadge\\\">In Progress</span>\\n            </div>\\n\\n            <div class=\\\"progress\\\" style=\\\"height:10px; background: rgba(11,18,32,.55); border:1px solid var(--border);\\\">\\n              <div class=\\\"progress-bar\\\" id=\\\"progressBar\\\" role=\\\"progressbar\\\" style=\\\"width:0%\\\"></div>\\n            </div>\\n\\n            <hr style=\\\"border-color: var(--border); opacity:1;\\\" />\\n\\n            <div class=\\\"muted small\\\">\\n              Suggested workflow:\\n              <ol class=\\\"mt-2\\\">\\n                <li>Read the instructions.</li>\\n                <li>Open each challenge panel.</li>\\n                <li>Click <span class=\\\"kbd\\\">Mark Complete</span> when done.</li>\\n              </ol>\\n            </div>\\n          </div>\\n        </section>\\n      </div>\\n\\n      <!-- Challenges Grid -->\\n      <section class=\\\"cardx mt-3\\\" id=\\\"challenges\\\">\\n        <div class=\\\"cardx-header\\\">\\n          <div class=\\\"label\\\">Challenges</div>\\n          <div class=\\\"muted small\\\">Click a card to view details</div>\\n        </div>\\n\\n        <div class=\\\"cardx-body\\\">\\n          <div class=\\\"challenges-grid\\\" id=\\\"challengeRow\\\">\\n            <!-- Challenge 1 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"0\\\" id=\\\"challenge-0\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-rocket\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 1: Create Simulated Case</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge0\\\" data-badge-challenge=\\\"0\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Initialize the lab environment by creating a simulated security incident.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody0\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 1 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"0\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Create a case by clicking the  <i class=\\\"fas fa-plus\\\"></i> button </li>\\n                    <li>Select <i>Simulate Case</i> from the menu</li>\\n                    <li>Search for Login From Outside Of Business Hours</li>\\n                    <li>Click the Create Button</li>\\n                    <li>Select the current environment listed</li>\\n                    <li>Click the Refresh( <i class=\\\"fas fa-refresh\\\"></i>) Button</li>\\n                  </ul>\\n                  Evidence: The case tab now shows two cases.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"0\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"0\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 2 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"1\\\" id=\\\"challenge-1\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-search\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 2: Explore the alert and follow the steps</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge1\\\" data-badge-challenge=\\\"1\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Navigate the case UI and understand the incoming alert data.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody1\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 2 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"1\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Make sure the alert tab is open. The alerts tab will have the alert name in our case \\\"Login from Outside of Business Hours\\\"</li>\\n                    <li>In the alert view you can expolore various widgets that highlight important information about the alert.</li>\\n                    <li>You can see that not only was our login outside of normal business hours, but it was also from a new IP address from a location different then our normal location.</li>\\n                    <li>You can also see that the user is an Admin. All of those are very suspicious and should be investigated.</li>\\n                   \\n                \\n                  </ul>\\n                  Evidence: You can see all the information described in this challenge and find the regular office location of our user. \\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"1\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"1\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 3 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"2\\\" id=\\\"challenge-2\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-wrench\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 3: Complete instructions</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge2\\\" data-badge-challenge=\\\"2\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                Complete the instructions provided by the playbook\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody2\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 3 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"2\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>In the insights widget you see an insight highlighting the next step in our investigation.</li>\\n                    <li>Follow the insight provided to you</li>\\n                  </ul>\\n                  Evidence: The case priority is now High as set by an orange indicator in the case title and the case list. Case is now assigned to @Tier2 team.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"2\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"2\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 4 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"3\\\" id=\\\"challenge-3\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-robot\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 4: Automate the workflow via playbooks</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge3\\\" data-badge-challenge=\\\"3\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                We notice that some of the steps in this playbook can be automated instead of following manual instructions.\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody3\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 4 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"3\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>In the playbooks tab notice the playbook that is running behind the scenes for this alert.</li>\\n                    <li>Navigate to Respose > Playbooks and locate this playbook </li>\\n                    <li>You are presented with two branches with insturctions set as a Generic Insight widget.</li>\\n                    <li>Replace the insight widget with appropriate actions from the actions menu to automate the steps in the insight widget. </li>\\n                    <li> When complete, save the playbook andsimulate the case again to verify that the steps are being automated.</li>\\n                    \\n                  </ul>\\n                  Evidence: Case is now at high priority and assigned to @Tier2 team, similar to the last challenge. Review the Timeline tab to see how those automated actions ran..\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"3\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"3\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <!-- Challenge 5 -->\\n            <div class=\\\"challenge\\\" data-challenge=\\\"4\\\" id=\\\"challenge-4\\\">\\n              <div class=\\\"top\\\">\\n                <div class=\\\"top-left\\\">\\n                  <div class=\\\"challenge-icon\\\">\\n                    <i class=\\\"fas fa-star\\\"></i>\\n                  </div>\\n                  <p class=\\\"name mb-0\\\">Challenge 5: Enhance Playbook</p>\\n                </div>\\n                <span class=\\\"badge-soft\\\" id=\\\"cBadge4\\\" data-badge-challenge=\\\"4\\\">Open</span>\\n              </div>\\n              <p class=\\\"desc\\\">\\n                We are going to experiment with adding an additional conditional branch to the playbook. Notice how sam is not only in a different location but also an admin. Lets add a conditional branch\\n              </p>\\n              <div class=\\\"details collapse\\\" id=\\\"cBody4\\\">\\n                <img src=\\\"https://citreno.com/hubfs/screenshots/labs/2025-12-23_11-49-55%20(1).gif\\\" alt=\\\"Challenge 5 Reference\\\" class=\\\"challenge-image\\\" data-challenge-image=\\\"4\\\" />\\n                <div class=\\\"muted small mb-2\\\">\\n                  Do:\\n                  <ul class=\\\"mb-2\\\">\\n                    <li>Navigate back to the Respose > Playbooks tab and locate the playbook you created in the last challenge.</li>\\n                    <li>After the location check branch add a new brach IF the locations are different.</li>\\n                    <li>In this new branch the condition should check for the user role variable</li>\\n                    <li>If the user role is admin, set the alert priority to critical</li>\\n                    <li>If the user role is admin, set the alert priority to high</li>\\n                    <li>Then for both branches escalate to @Tier2</li>\\n                    <li>Bonus: You can merge the two branches together into a single action.</li>\\n                    <li>Save the playbook and then simulate the case again to verify that the steps are being automated.</li>\\n\\n                  </ul>\\n                  Evidence: Now you have 3 different cases for logins outside of Business Hours but the last one will be tagged with critical priority and darker red. They will all be assigned to @Tier2 team.\\n                </div>\\n                <div class=\\\"footer\\\">\\n                  <a class=\\\"small-link hint-link\\\" href=\\\"#\\\" data-hint-target=\\\"4\\\" onclick=\\\"return false;\\\">View hint</a>\\n                  <button class=\\\"btn btn-sm btn-outline-light markBtn\\\" data-target=\\\"4\\\">Mark Complete</button>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </section>\\n\\n      <!-- Reference -->\\n      <section class=\\\"cardx mt-3\\\" id=\\\"reference\\\">\\n        <div class=\\\"cardx-header\\\">\\n          <div class=\\\"label\\\">Reference</div>\\n          <div class=\\\"muted small\\\">Helpful links</div>\\n        </div>\\n        <div class=\\\"cardx-body\\\">\\n          <div class=\\\"muted small\\\">\\n            <ul class=\\\"mb-0\\\">\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">SOAR console navigation</a></li>\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">Playbook execution basics</a></li>\\n              <li><a class=\\\"small-link\\\" href=\\\"#\\\" onclick=\\\"return false;\\\">Entity enrichment overview</a></li>\\n            </ul>\\n          </div>\\n        </div>\\n      </section>\\n\\n    </main>\\n  </div>\\n\\n  <div class=\\\"toastx\\\" id=\\\"toast\\\">\\n    <div class=\\\"fw-semibold\\\" id=\\\"toastTitle\\\">Nice.</div>\\n    <div class=\\\"muted small\\\" id=\\\"toastBody\\\">Challenge marked complete.</div>\\n  </div>\\n\\n  <script src=\\\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\\\"></script>\\n  <script>\\n    // --- Stepper (Instructions) ---\\n    const steps = [\\n      {\\n        title: \\\"Get Started Case\\\",\\n          body: \\\"This is the Getting Started Case, it contains all of your challenges\\\"\\n      },\\n      {\\n        title: \\\"Do the challenges step by step\\\",\\n        body: \\\"Do each challenge and carefully confirm that the evidence is present that the step is successfully completed\\\"\\n      },\\n      {\\n        title: \\\"Mark progress\\\",\\n        body: \\\"When complete mark your progress. Note that this progress will disappear if you refresh the tab, to complete the lab and verify all steps you must go to Qwiklabs\\\"\\n      }\\n    ];\\n\\n    let stepIdx = 0;\\n    const stepNum = document.getElementById(\\\"stepNum\\\");\\n    const stepTotal = document.getElementById(\\\"stepTotal\\\");\\n    const stepTitle = document.getElementById(\\\"stepTitle\\\");\\n    const stepBody = document.getElementById(\\\"stepBody\\\");\\n    const prevBtn = document.getElementById(\\\"prevBtn\\\");\\n    const nextBtn = document.getElementById(\\\"nextBtn\\\");\\n    const finishBtn = document.getElementById(\\\"finishBtn\\\");\\n\\n    stepTotal.textContent = steps.length;\\n\\n    function renderStep(){\\n      stepNum.textContent = (stepIdx + 1);\\n      stepTitle.textContent = steps[stepIdx].title;\\n      stepBody.textContent = steps[stepIdx].body;\\n\\n      prevBtn.disabled = stepIdx === 0;\\n      const atEnd = stepIdx === steps.length - 1;\\n      nextBtn.style.display = atEnd ? \\\"none\\\" : \\\"inline-block\\\";\\n      finishBtn.style.display = atEnd ? \\\"inline-block\\\" : \\\"none\\\";\\n    }\\n\\n    prevBtn.addEventListener(\\\"click\\\", () => { \\n      if(stepIdx>0){ \\n        stepIdx--; \\n        renderStep(); \\n        saveState();\\n      }\\n    });\\n    nextBtn.addEventListener(\\\"click\\\", () => { \\n      if(stepIdx<steps.length-1){ \\n        stepIdx++; \\n        renderStep(); \\n        saveState();\\n      }\\n    });\\n    finishBtn.addEventListener(\\\"click\\\", () => {\\n      showToast(\\\"All set.\\\", \\\"Now complete the challenges below.\\\");\\n      saveState();\\n    });\\n\\n    // --- Horizontal accordion behavior ---\\n    const challenges = document.querySelectorAll(\\\".challenge\\\");\\n    const collapseInstances = [];\\n\\n    function initCollapses(){\\n      challenges.forEach((c, idx) => {\\n        const body = document.getElementById(`cBody${idx}`);\\n        collapseInstances[idx] = new bootstrap.Collapse(body, { toggle: false });\\n      });\\n    }\\n\\n    function openChallenge(idx){\\n      challenges.forEach((c, i) => {\\n        const isTarget = i === idx;\\n        const badge = document.getElementById(`cBadge${i}`);\\n        const isDone = state.done[i];\\n        \\n        c.classList.toggle(\\\"active\\\", isTarget);\\n        if(isTarget) {\\n          collapseInstances[i].show();\\n          // Update badge text - show \\\"Close\\\" if not done, keep \\\"Done\\\" if completed\\n          if (!isDone && badge) {\\n            badge.textContent = \\\"Close\\\";\\n          }\\n        } else {\\n          collapseInstances[i].hide();\\n          // Update badge text - show \\\"Open\\\" if not done, keep \\\"Done\\\" if completed\\n          if (!isDone && badge) {\\n            badge.textContent = \\\"Open\\\";\\n          }\\n          // Hide hint image when challenge is closed\\n          const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${i}\\\"]`);\\n          if (image) {\\n            image.classList.remove(\\\"show\\\");\\n          }\\n          const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${i}\\\"]`);\\n          if (hintLink) {\\n            hintLink.textContent = \\\"View hint\\\";\\n          }\\n        }\\n      });\\n    }\\n\\n    // Click a challenge card to expand it\\n    challenges.forEach((c) => {\\n      c.addEventListener(\\\"click\\\", (e) => {\\n        if (e.target.classList.contains(\\\"markBtn\\\")) return; // don't conflict with button\\n        if (e.target.classList.contains(\\\"hint-link\\\")) return; // don't conflict with hint link\\n        if (e.target.classList.contains(\\\"badge-soft\\\")) return; // don't conflict with badge click\\n        const idx = Number(c.dataset.challenge);\\n        openChallenge(idx);\\n      });\\n    });\\n\\n    // Click badge to toggle challenge open/close\\n    document.querySelectorAll(\\\".challenge .badge-soft[data-badge-challenge]\\\").forEach(badge => {\\n      badge.addEventListener(\\\"click\\\", (e) => {\\n        e.stopPropagation();\\n        const challengeIdx = Number(badge.dataset.badgeChallenge);\\n        const challenge = document.querySelector(`.challenge[data-challenge=\\\"${challengeIdx}\\\"]`);\\n        const isActive = challenge && challenge.classList.contains(\\\"active\\\");\\n        \\n        // Toggle: if open, close it; if closed, open it\\n        if (isActive) {\\n          // Close this specific challenge\\n          const collapseInstance = collapseInstances[challengeIdx];\\n          if (collapseInstance) {\\n            collapseInstance.hide();\\n            challenge.classList.remove(\\\"active\\\");\\n            // Update badge text if not done\\n            if (!state.done[challengeIdx]) {\\n              badge.textContent = \\\"Open\\\";\\n            }\\n            // Hide hint image\\n            const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${challengeIdx}\\\"]`);\\n            if (image) {\\n              image.classList.remove(\\\"show\\\");\\n            }\\n            const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${challengeIdx}\\\"]`);\\n            if (hintLink) {\\n              hintLink.textContent = \\\"View hint\\\";\\n            }\\n          }\\n        } else {\\n          // Open this specific challenge\\n          openChallenge(challengeIdx);\\n        }\\n      });\\n    });\\n\\n    // --- Hint toggle functionality ---\\n    document.querySelectorAll(\\\".hint-link\\\").forEach(link => {\\n      link.addEventListener(\\\"click\\\", (e) => {\\n        e.preventDefault();\\n        e.stopPropagation();\\n        const challengeIdx = link.dataset.hintTarget;\\n        const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${challengeIdx}\\\"]`);\\n        if (image) {\\n          image.classList.toggle(\\\"show\\\");\\n          link.textContent = image.classList.contains(\\\"show\\\") ? \\\"Hide hint\\\" : \\\"View hint\\\";\\n        }\\n      });\\n    });\\n\\n    // --- Completion tracking with localStorage ---\\n    // Get case ID from hidden div\\n    const caseIdElement = document.getElementById(\\\"caseId\\\");\\n    const caseId = caseIdElement ? caseIdElement.dataset.caseId || \\\"12345\\\" : \\\"12345\\\";\\n    const storageKey = `soar_lab_progress_${caseId}`;\\n\\n    // Load state from localStorage or initialize default\\n    function loadState() {\\n      try {\\n        const saved = localStorage.getItem(storageKey);\\n        if (saved) {\\n          const parsed = JSON.parse(saved);\\n          return {\\n            done: parsed.done || [false, false, false, false, false],\\n            stepIdx: parsed.stepIdx !== undefined ? parsed.stepIdx : 0\\n          };\\n        }\\n      } catch (e) {\\n        console.warn(\\\"Failed to load state from localStorage:\\\", e);\\n      }\\n      return {\\n        done: [false, false, false, false, false],\\n        stepIdx: 0\\n      };\\n    }\\n\\n    // Save state to localStorage\\n    function saveState() {\\n      try {\\n        const stateToSave = {\\n          done: state.done,\\n          stepIdx: stepIdx,\\n          timestamp: new Date().toISOString()\\n        };\\n        localStorage.setItem(storageKey, JSON.stringify(stateToSave));\\n      } catch (e) {\\n        console.warn(\\\"Failed to save state to localStorage:\\\", e);\\n      }\\n    }\\n\\n    // Initialize state from localStorage\\n    const savedState = loadState();\\n    const state = { done: savedState.done };\\n    stepIdx = savedState.stepIdx;\\n\\n    const doneCountEl = document.getElementById(\\\"doneCount\\\");\\n    const challengeCountEl = document.getElementById(\\\"challengeCount\\\");\\n    const progressBar = document.getElementById(\\\"progressBar\\\");\\n    const statusBadge = document.getElementById(\\\"statusBadge\\\");\\n\\n    challengeCountEl.textContent = state.done.length;\\n\\n    // Restore UI state from loaded state\\n    function restoreUIState() {\\n      state.done.forEach((isDone, idx) => {\\n        const card = document.querySelector(`.challenge[data-challenge=\\\"${idx}\\\"]`);\\n        const badge = document.getElementById(`cBadge${idx}`);\\n        const btn = document.querySelector(`.markBtn[data-target=\\\"${idx}\\\"]`);\\n\\n        if (isDone) {\\n          if (card) card.classList.add(\\\"done\\\");\\n          if (badge) badge.textContent = \\\"Done\\\";\\n          if (btn) btn.textContent = \\\"Undo\\\";\\n        } else {\\n          if (card) card.classList.remove(\\\"done\\\");\\n          // Set badge text based on expansion state\\n          if (badge) {\\n            const isActive = card && card.classList.contains(\\\"active\\\");\\n            badge.textContent = isActive ? \\\"Close\\\" : \\\"Open\\\";\\n          }\\n          if (btn) btn.textContent = \\\"Mark Complete\\\";\\n        }\\n      });\\n    }\\n\\n    function updateProgress(){\\n      const doneCount = state.done.filter(Boolean).length;\\n      doneCountEl.textContent = doneCount;\\n\\n      const pct = Math.round((doneCount / state.done.length) * 100);\\n      progressBar.style.width = pct + \\\"%\\\";\\n\\n      // Update progress bar color - green when complete\\n      if (doneCount === state.done.length){\\n        progressBar.style.backgroundColor = \\\"rgba(34,197,94,.9)\\\";\\n        progressBar.style.background = \\\"linear-gradient(90deg, rgba(34,197,94,.95), rgba(16,185,129,.9))\\\";\\n      } else {\\n        // Reset to default Bootstrap primary color (blue)\\n        progressBar.style.backgroundColor = \\\"\\\";\\n        progressBar.style.background = \\\"\\\";\\n      }\\n\\n      // Update navigation dots to green when challenges are completed\\n      state.done.forEach((isDone, idx) => {\\n        const navDot = document.getElementById(`nav-dot-${idx}`);\\n        if (navDot) {\\n          if (isDone) {\\n            navDot.classList.add(\\\"green\\\");\\n            navDot.title = \\\"Completed\\\";\\n          } else {\\n            navDot.classList.remove(\\\"green\\\");\\n            navDot.title = \\\"Needs attention\\\";\\n          }\\n        }\\n      });\\n\\n      if (doneCount === state.done.length){\\n        statusBadge.textContent = \\\"Complete\\\";\\n        statusBadge.style.borderColor = \\\"rgba(34,197,94,.65)\\\";\\n        statusBadge.style.color = \\\"rgba(34,197,94,.95)\\\";\\n        if (doneCount > 0) {\\n          showToast(\\\"Lab complete.\\\", \\\"All challenges are marked complete.\\\");\\n        }\\n      } else {\\n        statusBadge.textContent = \\\"In Progress\\\";\\n        statusBadge.style.borderColor = \\\"var(--border)\\\";\\n        statusBadge.style.color = \\\"var(--muted)\\\";\\n      }\\n\\n      // Save state to localStorage\\n      saveState();\\n    }\\n\\n    document.querySelectorAll(\\\".markBtn\\\").forEach(btn => {\\n      btn.addEventListener(\\\"click\\\", (e) => {\\n        e.stopPropagation();\\n        const idx = Number(btn.dataset.target);\\n        state.done[idx] = !state.done[idx];\\n\\n        const card = document.querySelector(`.challenge[data-challenge=\\\"${idx}\\\"]`);\\n        const badge = document.getElementById(`cBadge${idx}`);\\n\\n        if(state.done[idx]){\\n          card.classList.add(\\\"done\\\");\\n          badge.textContent = \\\"Done\\\";\\n          showToast(\\\"Saved.\\\", `Challenge ${idx+1} marked complete.`);\\n          btn.textContent = \\\"Undo\\\";\\n        }else{\\n          card.classList.remove(\\\"done\\\");\\n          badge.textContent = \\\"Open\\\";\\n          showToast(\\\"Updated.\\\", `Challenge ${idx+1} marked open.`);\\n          btn.textContent = \\\"Mark Complete\\\";\\n        }\\n\\n        updateProgress();\\n      });\\n    });\\n\\n    // --- Sidebar navigation (CLICKABLE) ---\\n    const navItems = document.querySelectorAll(\\\".nav-item\\\");\\n    const mainScroll = document.getElementById(\\\"mainScroll\\\");\\n\\n    function setActiveNav(target){\\n      navItems.forEach(n => n.classList.remove(\\\"active\\\"));\\n      const match = document.querySelector(`.nav-item[data-target=\\\"${target}\\\"]`);\\n      if (match) match.classList.add(\\\"active\\\");\\n    }\\n\\n    function scrollToId(id){\\n      const el = document.getElementById(id);\\n      if (!el) return;\\n      el.scrollIntoView({ behavior: \\\"smooth\\\", block: \\\"start\\\" });\\n    }\\n\\n    navItems.forEach(item => {\\n      item.addEventListener(\\\"click\\\", () => {\\n        const target = item.dataset.target;\\n\\n        // mark active\\n        setActiveNav(target);\\n\\n        // targets:\\n        // - \\\"getting-started\\\"\\n        // - \\\"challenge-0/1/2\\\"\\n        // - \\\"reference\\\"\\n        if (target === \\\"getting-started\\\"){\\n          scrollToId(\\\"getting-started\\\");\\n          return;\\n        }\\n\\n        if (target === \\\"reference\\\"){\\n          scrollToId(\\\"reference\\\");\\n          return;\\n        }\\n\\n        if (target && target.startsWith(\\\"challenge-\\\")){\\n          const idx = Number(target.split(\\\"-\\\")[1]);\\n          // scroll to challenge row and open the correct challenge\\n          scrollToId(\\\"challenges\\\");\\n          openChallenge(idx);\\n\\n          // subtle extra nudge to ensure the row is visible in smaller viewports\\n          setTimeout(() => {\\n            document.getElementById(target)?.scrollIntoView({ behavior: \\\"smooth\\\", block: \\\"nearest\\\", inline: \\\"nearest\\\" });\\n          }, 250);\\n\\n          return;\\n        }\\n      });\\n    });\\n\\n    // --- Utilities ---\\n    const toast = document.getElementById(\\\"toast\\\");\\n    const toastTitle = document.getElementById(\\\"toastTitle\\\");\\n    const toastBody = document.getElementById(\\\"toastBody\\\");\\n    let toastTimer;\\n\\n    function showToast(title, body){\\n      toastTitle.textContent = title;\\n      toastBody.textContent = body;\\n      toast.classList.add(\\\"show\\\");\\n      clearTimeout(toastTimer);\\n      toastTimer = setTimeout(() => toast.classList.remove(\\\"show\\\"), 2200);\\n    }\\n\\n    document.getElementById(\\\"resetBtn\\\").addEventListener(\\\"click\\\", () => {\\n      stepIdx = 0; renderStep();\\n      state.done = [false, false, false, false, false];\\n\\n      document.querySelectorAll(\\\".challenge\\\").forEach((card, idx) => {\\n        card.classList.remove(\\\"done\\\");\\n        document.getElementById(`cBadge${idx}`).textContent = \\\"Open\\\";\\n        const btn = document.querySelector(`.markBtn[data-target=\\\"${idx}\\\"]`);\\n        if (btn) btn.textContent = \\\"Mark Complete\\\";\\n        collapseInstances[idx]?.hide();\\n        card.classList.remove(\\\"active\\\");\\n        // Hide hint images and reset hint link text\\n        const image = document.querySelector(`.challenge-image[data-challenge-image=\\\"${idx}\\\"]`);\\n        if (image) {\\n          image.classList.remove(\\\"show\\\");\\n        }\\n        const hintLink = document.querySelector(`.hint-link[data-hint-target=\\\"${idx}\\\"]`);\\n        if (hintLink) {\\n          hintLink.textContent = \\\"View hint\\\";\\n        }\\n      });\\n\\n      // Clear localStorage for this case\\n      try {\\n        localStorage.removeItem(storageKey);\\n      } catch (e) {\\n        console.warn(\\\"Failed to clear localStorage:\\\", e);\\n      }\\n\\n      updateProgress();\\n      setActiveNav(\\\"getting-started\\\");\\n      scrollToId(\\\"getting-started\\\");\\n      showToast(\\\"Reset.\\\", \\\"Progress cleared.\\\");\\n    });\\n\\n    // --- Theme Toggle & SecOps Hook ---\\n    const themeToggle = document.getElementById(\\\"themeToggle\\\");\\n    const themeIcon = themeToggle.querySelector(\\\".theme-icon\\\");\\n    const body = document.body;\\n    const html = document.documentElement;\\n\\n    function setTheme(isLight, isManual = false) {\\n      const currentIsLight = body.classList.contains(\\\"light-theme\\\");\\n      if (currentIsLight === isLight && !isManual) return; // Skip redundant updates from observer\\n\\n      if (isLight) {\\n        body.classList.add(\\\"light-theme\\\");\\n        themeIcon.textContent = \\\"â˜€ï¸\\\";\\n      } else {\\n        body.classList.remove(\\\"light-theme\\\");\\n        themeIcon.textContent = \\\"ðŸŒ™\\\";\\n      }\\n    }\\n\\n    // 1. Manual Toggle (for testing/local use)\\n    themeToggle.addEventListener(\\\"click\\\", () => {\\n      const isLight = !body.classList.contains(\\\"light-theme\\\");\\n      setTheme(isLight, true);\\n      localStorage.setItem(\\\"theme\\\", isLight ? \\\"light\\\" : \\\"dark\\\");\\n      showToast(\\\"Theme updated.\\\", `Switched to ${isLight ? 'light' : 'dark'} mode.`);\\n    });\\n\\n\\n      function isColorDark(color) {\\n    if (!color) return false;\\n\\n    // rgb / rgba\\n    if (color.startsWith(\\\"rgb\\\")) {\\n      const m = color.match(/rgba?\\\\((\\\\d+),\\\\s*(\\\\d+),\\\\s*(\\\\d+)/i);\\n      if (!m) return false;\\n      const r = +m[1], g = +m[2], b = +m[3];\\n      return (0.299 * r + 0.587 * g + 0.114 * b) < 140;\\n    }\\n\\n    // hex\\n    let hex = color.replace(\\\"#\\\", \\\"\\\");\\n    if (hex.length === 3) hex = hex.split(\\\"\\\").map(c => c + c).join(\\\"\\\");\\n    if (hex.length !== 6) return false;\\n\\n    const r = parseInt(hex.slice(0, 2), 16);\\n    const g = parseInt(hex.slice(2, 4), 16);\\n    const b = parseInt(hex.slice(4, 6), 16);\\n    return (0.299 * r + 0.587 * g + 0.114 * b) < 140;\\n  }\\n\\n  // SecOps sends theme info via postMessage into the widget iframe\\n  window.addEventListener(\\\"message\\\", (evt) => {\\n    if (!evt?.data || typeof evt.data !== \\\"object\\\") return;\\n    if (!evt.data.background) return;\\n\\n    const isDark = isColorDark(evt.data.background);\\n    const isLight = !isDark;\\n\\n    // Your system:\\n    // dark  -> no class\\n    // light -> body.light-theme\\n    document.body.classList.toggle(\\\"light-theme\\\", isLight);\\n    \\n    // Update theme icon to match the theme\\n    const themeToggle = document.getElementById(\\\"themeToggle\\\");\\n    const themeIcon = themeToggle?.querySelector(\\\".theme-icon\\\");\\n    if (themeIcon) {\\n      themeIcon.textContent = isLight ? \\\"â˜€ï¸\\\" : \\\"ðŸŒ™\\\";\\n    }\\n  });\\n\\n    // 2. THE HOOK: Watch for Google SecOps platform theme changes\\n    const syncWithPlatform = () => {\\n      // Check for platform-specific indicators\\n      const isLight = \\n        body.classList.contains(\\\"light-theme\\\") || \\n        body.classList.contains(\\\"light\\\") ||\\n        html.classList.contains(\\\"light-theme\\\") ||\\n        html.classList.contains(\\\"light\\\") ||\\n        html.getAttribute(\\\"data-theme\\\") === \\\"light\\\" ||\\n        window.matchMedia('(prefers-color-scheme: light)').matches;\\n\\n      setTheme(isLight);\\n    };\\n\\n    // Watch for attribute changes (classes, data-attributes)\\n    const observer = new MutationObserver(syncWithPlatform);\\n    observer.observe(body, { attributes: true });\\n    observer.observe(html, { attributes: true });\\n\\n    // Watch for system/browser theme changes (often used as a proxy by platform containers)\\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: light)');\\n    if (mediaQuery.addEventListener) {\\n      mediaQuery.addEventListener('change', (e) => setTheme(e.matches));\\n    }\\n\\n    // 3. Initial Load Sync\\n    const savedTheme = localStorage.getItem(\\\"theme\\\");\\n    if (savedTheme) {\\n      setTheme(savedTheme === \\\"light\\\", true);\\n    } else {\\n      syncWithPlatform();\\n    }\\n\\n    // Init\\n    restoreUIState();\\n    renderStep();\\n    initCollapses();\\n    updateProgress();\\n  </script>\\n</body>\\n</html>\\n\",\n  \"htmlHeight\": 1000,\n  \"safeRendering\": false,\n  \"type\": 3,\n  \"widgetDefinitionScope\": 2\n}","GridColumns":2,"ActionWidgetTemplateIdentifier":null,"StepIdentifier":null,"StepIntegration":null,"BlockStepIdentifier":null,"BlockStepInstanceName":null,"PresentIfEmpty":false,"ConditionsGroup":{"Conditions":[],"LogicalOperator":0},"IntegrationName":""},{"Title":"Lab Steps","Description":"This Widget lists all playbook actions waiting for user input.","Identifier":"c2a59955-37b1-425a-bee8-312d1bcd0439","Order":4,"TemplateIdentifier":"49b44934-e1b5-424e-83da-5388dd492f99","Type":11,"DataDefinitionJson":"{\n  \"pendingSteps\": null,\n  \"type\": 11,\n  \"widgetDefinitionScope\": 0\n}","GridColumns":2,"ActionWidgetTemplateIdentifier":null,"StepIdentifier":null,"StepIntegration":null,"BlockStepIdentifier":null,"BlockStepInstanceName":null,"PresentIfEmpty":false,"ConditionsGroup":{"Conditions":[],"LogicalOperator":0},"IntegrationName":""}]}],"Permissions":[],"Environments":["*"]}}